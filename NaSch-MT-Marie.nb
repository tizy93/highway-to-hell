(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    204874,       4669]
NotebookOptionsPosition[    202531,       4631]
NotebookOutlinePosition[    203072,       4650]
CellTagsIndexPosition[    203029,       4647]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[TextData[StyleBox["The highway to hell",
 FontFamily->"Squealer Embossed",
 FontColor->RGBColor[
  0.9921568627450981, 0.10588235294117647`, 0.058823529411764705`]]], "Title",
 CellFrame->{{0, 0}, {0, 
  0}},ExpressionUUID->"4c5b8c48-ea21-458d-8a47-cd3439a3b576"],

Cell[TextData[StyleBox["Menschen machen seltsame Sachen",
 FontFamily->"Squealer",
 FontColor->RGBColor[
  0.9137254901960784, 0.403921568627451, 0.18823529411764706`]]], "Subtitle",E\
xpressionUUID->"82eccbbc-421a-4762-bb86-ee2ab25c3b60"],

Cell[TextData[{
 StyleBox["Staus entwickeln sich aus dem Nichts. ",
  FontColor->RGBColor[
   0.9490196078431372, 0.8274509803921568, 0.4666666666666667]],
 "\n"
}], "Text",
 CellChangeTimes->{
  3.8987683914401827`*^9},ExpressionUUID->"398bd9fe-bf3f-4c9f-a231-\
c789daaac767"],

Cell[TextData[StyleBox["Die H\[ADoubleDot]lfte der deutsch verlieren jedes \
Jahr, im Durchschnitt, 40 Stunde im Stau.\ndiese Staus bilden sich aus dem \
nichts. Der Nagel-Schreckenberg-Modell bilden sich simuliert und analysiert \
dieses Ph\[ADoubleDot]nomen, unfallfrei.\nDas Nasch-Modell stellt die Stra\
\[SZ]e als ein Vektor in einzelne Abschnitte geteilt, die entweder von einem \
Auto besetzt oder leer sind. Die Autos haben maximal eine Geschwindigkeit die \
gleichgro\[SZ] ist als die Zahl von leeren Teilen, die vor sich finden. Die \
Zellen werden eine L\[ADoubleDot]nge von 7,5 m damit wird jede Auto eine \
Geschwindigkeit von 135 Km/h um das Modell an die Realit\[ADoubleDot]t \
anzupassen \n",
 FontColor->RGBColor[
  0.9568627450980393, 0.6470588235294118, 0.06666666666666667]]], "Text",
 CellChangeTimes->{
  3.8987684242440667`*^9, {3.89876852790409*^9, 
   3.8987685321442766`*^9}},ExpressionUUID->"96b5a938-abee-4e7c-b495-\
bbbd5c64a2fa"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"Modul", " ", "Nagel"}], "-", 
    RowBox[{"Schreckenberg", " ", "Modell"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"NaSch", "[", 
    RowBox[{"nCar_", ",", "nCells_", ",", "tMax_", ",", "vMax_", ",", "p_"}], 
    "]"}], ":=", 
   RowBox[{"Module", "[", "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{
      "Eingabe", " ", "Anzahl", " ", "der", " ", "Autos", " ", "nCar"}], ",", 
      " ", 
      RowBox[{"Anzahl", " ", "der", " ", "Zellen", " ", "nCells"}], ",", " ", 
      RowBox[{"Simulationsdauer", " ", "tMax"}], ",", " ", "\n", 
      RowBox[{
      "Maximalgeschwindigkeit", " ", "vMax", " ", "und", " ", 
       "Tr\[ODoubleDot]delwahrscheinlichkeit", " ", "p", " ", "mit", " ", 
       "Funktionsaufruf"}]}], "*)"}], "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{"lokale", " ", "Variablen"}], "*)"}], "\n", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"xAutos", ",", "vAutos", ",", "dAutos"}], "}"}], ",", "\n", 
     "\n", 
     RowBox[{"(*", 
      RowBox[{
      "Autos", " ", "haben", " ", "Position", " ", "x", " ", "und", " ", 
       "Geschwindigkeit", " ", "v", " ", "zum", " ", "vorderen", " ", 
       "Auto"}], "*)"}], "\n", 
     RowBox[{
      RowBox[{"xAutos", "=", 
       RowBox[{"Sort", "[", 
        RowBox[{"RandomSample", "[", 
         RowBox[{
          RowBox[{"Range", "[", "nCells", "]"}], ",", "nCar"}], "]"}], 
        "]"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"erzeugt", " ", "zuf\[ADoubleDot]llige", " ", 
        RowBox[{"(", "Random", ")"}], " ", "Liste", " ", "xAutos", " ", 
        "ohne", " ", "Wiederholungen", " ", 
        RowBox[{"(", "Sample", ")"}], " ", "in", " ", "aufsteigender", " ", 
        "Reihenfolge", " ", 
        RowBox[{"(", "Sort", ")"}]}], "*)"}], "\n", 
      RowBox[{"vAutos", "=", 
       RowBox[{"RandomInteger", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "vMax"}], "}"}], ",", "nCar"}], "]"}]}], ";", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
       "ordnet", " ", "jedem", " ", "Auto", " ", "eine", " ", 
        "zuf\[ADoubleDot]llige", " ", "Geschwindigkeit", " ", "von", " ", "0",
         " ", "bis", " ", "vMax", " ", "zu"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "Einzelne", " ", "Autos", " ", "sind", " ", "gekennzeichnet", " ", 
         "durch", " ", "Element"}], "-", 
        RowBox[{
        "Position", " ", "in", " ", "der", " ", "Liste", " ", "mit", " ", 
         "Position", " ", 
         RowBox[{"xAutos", "[", 
          RowBox[{"[", "n", "]"}], "]"}], " ", "und", " ", "Geschwindigkeit", 
         " ", 
         RowBox[{"vAutos", "[", 
          RowBox[{"[", "n", "]"}], "]"}]}]}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Verkehrsregeln", " ", "aus", " ", "NaSch"}], "-", 
        RowBox[{"Modell", " ", "implementieren"}]}], "*)"}], "\n", 
      RowBox[{"For", "[", 
       RowBox[{
        RowBox[{"i", "=", "0"}], ",", 
        RowBox[{"i", "<=", "tMax"}], ",", 
        RowBox[{"i", "++"}], ",", " ", 
        RowBox[{"(*", 
         RowBox[{
         "Schleife", " ", "der", " ", "Runden", " ", "bis", " ", "tMax"}], 
         "*)"}], "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "Freie", " ", "Zellen", " ", "d", " ", "vor", " ", "dem", " ", 
          "Auto", " ", "bis", " ", "zum", " ", "vorderen"}], "*)"}], "\n", 
        RowBox[{
         RowBox[{"dAutos", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "<", 
               RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
              RowBox[{
               RowBox[{"xAutos", "[", 
                RowBox[{"[", 
                 RowBox[{"n", "+", "1"}], "]"}], "]"}], "-", 
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", 
              RowBox[{"nCells", "-", 
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "+", 
               RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", 
              RowBox[{"nCar", "-", "1"}]}], "}"}]}], "]"}]}], ";", " ", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"In", " ", "Schleife"}], ",", " ", 
           RowBox[{"damit", " ", "es", " ", "geupdatet", " ", "wird"}]}], 
          "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "berechnet", " ", "freie", " ", "Zellen", " ", "zum", " ", 
            "vorderen", " ", "Auto", " ", "normal", " ", "au\[SZ]er", " ", 
            "f\[UDoubleDot]r", " ", "Autos", " ", "au\[SZ]er", " ", "dem", 
            " ", "mit", " ", "h\[ODoubleDot]chster", " ", "Positition"}], " ",
            "-", " ", 
           RowBox[{
           "da", " ", "Ringstra\[SZ]e", " ", "sind", " ", "die", " ", 
            "freien", " ", "Zellen", " ", "geringer", " ", "als", " ", 
            RowBox[{"xAutos", "[", 
             RowBox[{"[", 
              RowBox[{"n", "+", "1"}], "]"}], "]"}]}], "-", 
           RowBox[{"xAutos", "[", 
            RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "Arrays", " ", "starten", " ", "mit", " ", "Element", " ", "1"}], 
           ";", " ", 
           RowBox[{"n", "+", 
            RowBox[{
            "1", " ", "muss", " ", "f\[UDoubleDot]r", " ", "das", " ", 
             "letzte", " ", "gleich", " ", "nCar", " ", "sein"}]}]}], "*)"}], 
         "\n", 
         RowBox[{"AppendTo", "[", 
          RowBox[{"dAutos", ",", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"xAutos", "[", 
               RowBox[{"[", "nCar", "]"}], "]"}], "<", 
              RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
             RowBox[{
              RowBox[{"xAutos", "[", 
               RowBox[{"[", "1", "]"}], "]"}], "-", 
              RowBox[{"xAutos", "[", 
               RowBox[{"[", "nCar", "]"}], "]"}], "-", "1"}], ",", 
             RowBox[{"nCells", "-", 
              RowBox[{"xAutos", "[", 
               RowBox[{"[", "nCar", "]"}], "]"}], "+", 
              RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}]}], 
          "]"}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
          "Abstand", " ", "des", " ", "Autos", " ", "an", " ", "letzter", " ",
            "Stelle", " ", "in", " ", "Liste", " ", "zum", " ", "ersten", " ",
            "wird", " ", "angeh\[ADoubleDot]ngt"}], "*)"}], "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"R1", ":", " ", "Beschleunigen"}], ",", " ", 
           RowBox[{
           "falls", " ", "vMax", " ", "noch", " ", "nicht", " ", 
            "erreicht"}]}], "*)"}], "\n", 
         RowBox[{"vAutos", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"Min", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"vAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "+", "1"}], ",", "vMax"}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"R2", ":", " ", "Abbremsen"}], ",", " ", 
           RowBox[{
           "falls", " ", "v", " ", "gr\[ODoubleDot]\[SZ]er", " ", "als", " ", 
            "Abstand", " ", "d"}]}], "*)"}], "\n", 
         RowBox[{"vAutos", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"Min", "[", 
             RowBox[{
              RowBox[{"dAutos", "[", 
               RowBox[{"[", "n", "]"}], "]"}], ",", 
              RowBox[{"vAutos", "[", 
               RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", " ", "\n", 
         "\n", 
         RowBox[{"(*", 
          RowBox[{"R3", ":", " ", 
           RowBox[{
           "Tr\[ODoubleDot]deln", " ", "mit", " ", "Wahrscheinlichkeit", " ", 
            "p"}]}], "*)"}], "\n", 
         RowBox[{"vAutos", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"RandomReal", "[", 
                RowBox[{"{", 
                 RowBox[{"0", ",", "1"}], "}"}], "]"}], "<=", "p"}], ",", 
              RowBox[{
               RowBox[{"vAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "=", 
               RowBox[{"Max", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"vAutos", "[", 
                   RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", "0"}], 
                "]"}]}], ",", 
              RowBox[{"vAutos", "[", 
               RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", " ", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "Tr\[ODoubleDot]deln", " ", "solange", " ", "noch", " ", "nicht", 
            " ", "v"}], "=", "0"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "Falls", " ", "zuf\[ADoubleDot]llige", " ", "Zahl", " ", "nicht", 
            " ", "im", " ", "gegebenen", " ", "Intervall"}], ",", " ", 
           RowBox[{"bleibt", " ", "v", " ", "gleich"}]}], "*)"}], "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"R4", ":", " ", 
           RowBox[{"Fahren", " ", "um", " ", "vAutos", " ", "Zellen"}]}], 
          "*)"}], "\n", 
         RowBox[{"xAutos", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "+", 
                RowBox[{"vAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}]}], "<=", "nCells"}], ",", 
              RowBox[{
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "+", 
                RowBox[{"vAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}]}]}], ",", 
              RowBox[{
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "+", 
                RowBox[{"vAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "-", "nCells"}]}]}], "]"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";"}]}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
         "Falls", " ", "Autos", " ", "au\[SZ]erhalb", " ", "Zellen", " ", 
          "bewegt"}], ",", " ", 
         RowBox[{
         "wird", " ", "Bewegung", " ", "in", " ", "erster", " ", "Zelle", " ",
           "fortgesetzt"}], ",", " ", 
         RowBox[{"da", " ", "Ringstra\[SZ]e"}]}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
         "Aktualisieren", " ", "der", " ", "Positionen", " ", "nicht", " ", 
          "anhand", " ", "Verschieben", " ", "der", " ", "Autos", " ", 
          "innerhalb", " ", "der", " ", "Liste"}], ",", " ", 
         RowBox[{
         "sondern", " ", "durch", " ", "Ver\[ADoubleDot]ndern", " ", "der", 
          " ", "Eintr\[ADoubleDot]ge", " ", "in", " ", "xAutos"}]}], "*)"}], 
       "\n", "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"Print", "[", "xAutos", "]"}], ";", "\n", 
         RowBox[{"Print", "[", "vAutos", "]"}], ";", "\n", 
         RowBox[{"Print", "[", "dAutos", "]"}], ";", "\n", 
         RowBox[{"Print", "[", "density", "]"}], ";"}], "\n", "*)"}], "\n", 
       "]"}]}]}], "\n", "]"}]}]}]], "Code",
 CellFrame->{{0, 0}, {0, 0}},
 Background->None,ExpressionUUID->"1c1b3d41-374b-47dd-b054-5979bf093786"],

Cell[BoxData[
 RowBox[{"NaSch", "[", 
  RowBox[{"10", ",", "30", ",", "5", ",", "5", ",", "0.3"}], "]"}]], "Code",Ex\
pressionUUID->"cd125677-6eba-4fd1-841d-0d101ef3364e"],

Cell["\<\
Im Dichteplot wird die Anzahl der Autos N \[UDoubleDot]ber einer Anzahl \
avCells Zellen berechnet und \[UDoubleDot]ber der Zeit t dargestellt.\
\>", "Text",ExpressionUUID->"f57a7ba6-94de-44e7-a11f-1afe39b1e82d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"Dichteplot", " ", "\[UDoubleDot]ber", " ", "Zeit"}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"densityplot", "[", 
     RowBox[{
     "nCar_", ",", "nCells_", ",", "tMax_", ",", "vMax_", ",", "p_", ",", 
      "avCells_"}], "]"}], ":=", 
    RowBox[{"Module", "[", "\n", 
     RowBox[{"(*", 
      RowBox[{"lokale", " ", "Variablen"}], "*)"}], "\n", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "xAutos", ",", "vAutos", ",", "dAutos", ",", "regionCars", ",", 
        "density"}], "}"}], ",", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"NaSch", "-", "Modell"}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "Autos", " ", "haben", " ", "Position", " ", "x", " ", "und", " ", 
        "Geschwindigkeit", " ", "v", " ", "zum", " ", "vorderen", " ", 
        "Auto"}], "*)"}], "\n", 
      RowBox[{
       RowBox[{"xAutos", "=", 
        RowBox[{"Sort", "[", 
         RowBox[{"RandomSample", "[", 
          RowBox[{
           RowBox[{"Range", "[", "nCells", "]"}], ",", "nCar"}], "]"}], 
         "]"}]}], ";", "\n", 
       RowBox[{"vAutos", "=", 
        RowBox[{"RandomInteger", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "vMax"}], "}"}], ",", "nCar"}], "]"}]}], ";", 
       " ", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "Erzeugen", " ", "einelementige", " ", "Liste", " ", "mit", " ", 
         "Dichte"}], "*)"}], " ", "\n", 
       RowBox[{"density", "=", 
        RowBox[{"Table", "[", 
         RowBox[{"Nothing", ",", 
          RowBox[{"{", 
           RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Verkehrsregeln", " ", "aus", " ", "NaSch"}], "-", 
         RowBox[{"Modell", " ", "implementieren"}]}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"For", "[", 
         RowBox[{
          RowBox[{"i", "=", "0"}], ",", 
          RowBox[{"i", "<=", "tMax"}], ",", 
          RowBox[{"i", "++"}], ",", " ", "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{
           "Freie", " ", "Zellen", " ", "d", " ", "vor", " ", "dem", " ", 
            "Auto", " ", "bis", " ", "zum", " ", "vorderen"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"dAutos", "=", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"xAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "<", 
                 RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
                RowBox[{
                 RowBox[{"xAutos", "[", 
                  RowBox[{"[", 
                   RowBox[{"n", "+", "1"}], "]"}], "]"}], "-", 
                 RowBox[{"xAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", 
                RowBox[{"nCells", "-", 
                 RowBox[{"xAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "+", 
                 RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}], 
              ",", 
              RowBox[{"{", 
               RowBox[{"n", ",", 
                RowBox[{"nCar", "-", "1"}]}], "}"}]}], "]"}]}], ";", " ", 
           "\n", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"dAutos", ",", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "nCar", "]"}], "]"}], "<", 
                RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "1", "]"}], "]"}], "-", 
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "nCar", "]"}], "]"}], "-", "1"}], ",", 
               RowBox[{"nCells", "-", 
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "nCar", "]"}], "]"}], "+", 
                RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}]}], 
            "]"}], ";", "\n", "\n", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"R1", ":", " ", "Beschleunigen"}], ",", " ", 
             RowBox[{
             "falls", " ", "vMax", " ", "noch", " ", "nicht", " ", 
              "erreicht"}]}], "*)"}], "\n", 
           RowBox[{"vAutos", "=", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"Min", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"vAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "+", "1"}], ",", "vMax"}], 
               "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"R2", ":", " ", "Abbremsen"}], ",", " ", 
             RowBox[{
             "falls", " ", "v", " ", "gr\[ODoubleDot]\[SZ]er", " ", "als", 
              " ", "Abstand", " ", "d"}]}], "*)"}], "\n", 
           RowBox[{"vAutos", "=", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"Min", "[", 
               RowBox[{
                RowBox[{"dAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], ",", 
                RowBox[{"vAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", " ", "\n", 
           "\n", 
           RowBox[{"(*", 
            RowBox[{"R3", ":", " ", 
             RowBox[{
             "Tr\[ODoubleDot]deln", " ", "mit", " ", "Wahrscheinlichkeit", 
              " ", "p"}]}], "*)"}], "\n", 
           RowBox[{"vAutos", "=", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"RandomReal", "[", 
                  RowBox[{"{", 
                   RowBox[{"0", ",", "1"}], "}"}], "]"}], "<=", "p"}], ",", 
                RowBox[{
                 RowBox[{"vAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "=", 
                 RowBox[{"Max", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", "0"}], 
                  "]"}]}], ",", 
                RowBox[{"vAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", " ", "\n", 
           "\n", 
           RowBox[{"(*", 
            RowBox[{"R4", ":", " ", 
             RowBox[{"Fahren", " ", "um", " ", "vAutos", " ", "Zellen"}]}], 
            "*)"}], "\n", 
           RowBox[{"xAutos", "=", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{
                  RowBox[{"xAutos", "[", 
                   RowBox[{"[", "n", "]"}], "]"}], "+", 
                  RowBox[{"vAutos", "[", 
                   RowBox[{"[", "n", "]"}], "]"}]}], "<=", "nCells"}], ",", 
                RowBox[{
                 RowBox[{"xAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "=", 
                 RowBox[{
                  RowBox[{"xAutos", "[", 
                   RowBox[{"[", "n", "]"}], "]"}], "+", 
                  RowBox[{"vAutos", "[", 
                   RowBox[{"[", "n", "]"}], "]"}]}]}], ",", 
                RowBox[{
                 RowBox[{"xAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "=", 
                 RowBox[{
                  RowBox[{"xAutos", "[", 
                   RowBox[{"[", "n", "]"}], "]"}], "+", 
                  RowBox[{"vAutos", "[", 
                   RowBox[{"[", "n", "]"}], "]"}], "-", "nCells"}]}]}], "]"}],
               ",", 
              RowBox[{"{", 
               RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
           RowBox[{"(*", 
            RowBox[{
            "Erstellen", " ", "Liste", " ", "mit", " ", "Autos", " ", 
             "innerhalb", " ", "vorgegebener", " ", "Region", " ", "von", " ",
              "der", " ", "ersten", " ", "Zelle", " ", "bis", " ", "zur", " ",
              "frei", " ", "w\[ADoubleDot]hlbaren", " ", "Zelle", " ", 
             "avCells"}], "*)"}], "\n", 
           RowBox[{"regionCars", "=", 
            RowBox[{"DeleteCases", "[", 
             RowBox[{
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "<=", "avCells"}], ",", 
                  RowBox[{"xAutos", "[", 
                   RowBox[{"[", "n", "]"}], "]"}], ","}], "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{"n", ",", "1", ",", "nCar"}], "}"}]}], "]"}], ",", 
              "Null"}], "]"}]}], ";", " ", 
           RowBox[{"(*", 
            RowBox[{
            "Nullen", " ", "mit", " ", "DeleteCases", " ", 
             "gel\[ODoubleDot]scht"}], "*)"}], "\n", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{"Element", " ", "zu", " ", "density"}], "-", 
              RowBox[{
              "Liste", " ", "mit", " ", "Dichte", " ", "am", " ", "Zeitpunkt",
                " ", "t", " ", "hinzugef\[UDoubleDot]gt"}]}], ",", " ", 
             RowBox[{
             "t", " ", "entspricht", " ", "Reihenfolge", " ", "der", " ", 
              "Liste"}]}], "*)"}], "\n", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"density", ",", 
             RowBox[{
              RowBox[{"Length", "[", "regionCars", "]"}], "/", "avCells"}]}], 
            "]"}], ";"}]}], "\n", 
         RowBox[{"(*", 
          RowBox[{"Ausgabe", " ", "xAutos"}], "*)"}], "\n", 
         RowBox[{"(*", "\n", 
          RowBox[{
           RowBox[{"Print", "[", "xAutos", "]"}], ";"}], " ", 
          RowBox[{"(*", 
           RowBox[{"Print", " ", "kostet", " ", "viel", " ", "Rechenzeit"}], 
           "*)"}], "\n", "*)"}], "\n", "]"}], "\n", 
        RowBox[{"(*", 
         RowBox[{"Plotten", " ", "Dichte"}], "*)"}], "\n", 
        RowBox[{"Delete", "[", 
         RowBox[{"density", ",", "1"}], "]"}]}], ";", " ", 
       RowBox[{"(*", 
        RowBox[{"L\[ODoubleDot]schen", " ", "erstes", " ", "Nullelement"}], 
        "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Print", "[", "density", "]"}], ";"}], "*)"}], "\n", 
       RowBox[{"ListPlot", "[", 
        RowBox[{"density", ",", 
         RowBox[{"ImageSize", "->", "Medium"}], ",", 
         RowBox[{"ColorFunction", "->", "\"\<Rainbow\>\""}], ",", 
         RowBox[{"Frame", "->", "True"}], ",", 
         RowBox[{"FrameLabel", "->", 
          RowBox[{"{", 
           RowBox[{"\"\<Zeit t\>\"", ",", "\"\<Dichte \[Rho]\>\""}], 
           "}"}]}]}], "]"}]}]}], "\n", "]"}]}], "\n"}]}]], "Code",
 CellFrame->{{0, 0}, {0, 0}},
 Background->None,ExpressionUUID->"2eb48919-77a2-4410-810c-6792a06d2ae9"],

Cell[BoxData[{
 RowBox[{"densityplot", "[", 
  RowBox[{"7", ",", "30", ",", "15", ",", "5", ",", "0.3", ",", "10"}], 
  "]"}], "\n", 
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"density", "[", 
      RowBox[{"[", "t", "]"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"t", ",", "1", ",", "15"}], "}"}]}], "]"}], "*)"}]}]}], "Code",E\
xpressionUUID->"6e1b616f-a3fe-42e4-93a3-f65a9e354de4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "Histogramme", " ", "Geschwindigkeiten", " ", "und", " ", "Abstand", " ", 
    "f\[UDoubleDot]r", " ", "einen", " ", "Zeitpunkt"}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"vdhisto", "[", 
    RowBox[{"nCar_", ",", "nCells_", ",", "tMax_", ",", "vMax_", ",", "p_"}], 
    "]"}], ":=", 
   RowBox[{"Module", "[", "\n", 
    RowBox[{"(*", 
     RowBox[{"tMax", " ", "ist", " ", "betrachteter", " ", "Zeitpunkt"}], 
     "*)"}], "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{"lokale", " ", "Variablen"}], "*)"}], "\n", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "xAutos", ",", "vAutos", ",", "dAutos", ",", "viAutos", ",", "diAutos", 
       ",", "i"}], "}"}], ",", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{"NaSch", "-", "Modell"}], "*)"}], "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "Autos", " ", "haben", " ", "Position", " ", "x", " ", "und", " ", 
       "Geschwindigkeit", " ", "v", " ", "zum", " ", "vorderen", " ", 
       "Auto"}], "*)"}], "\n", 
     RowBox[{
      RowBox[{"xAutos", "=", 
       RowBox[{"Sort", "[", 
        RowBox[{"RandomSample", "[", 
         RowBox[{
          RowBox[{"Range", "[", "nCells", "]"}], ",", "nCar"}], "]"}], 
        "]"}]}], ";", "\n", 
      RowBox[{"vAutos", "=", 
       RowBox[{"RandomInteger", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "vMax"}], "}"}], ",", "nCar"}], "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Verkehrsregeln", " ", "aus", " ", "NaSch"}], "-", 
        RowBox[{"Modell", " ", "implementieren"}]}], "*)"}], "\n", 
      RowBox[{
       RowBox[{"For", "[", 
        RowBox[{
         RowBox[{"i", "=", "0"}], ",", 
         RowBox[{"i", "<=", "tMax"}], ",", 
         RowBox[{"i", "++"}], ",", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
          "Freie", " ", "Zellen", " ", "d", " ", "vor", " ", "dem", " ", 
           "Auto", " ", "bis", " ", "zum", " ", "vorderen"}], "*)"}], "\n", 
         RowBox[{
          RowBox[{"dAutos", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "<", 
                RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", 
                  RowBox[{"n", "+", "1"}], "]"}], "]"}], "-", 
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", 
               RowBox[{"nCells", "-", 
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "+", 
                RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"n", ",", 
               RowBox[{"nCar", "-", "1"}]}], "}"}]}], "]"}]}], ";", " ", "\n", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"dAutos", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "nCar", "]"}], "]"}], "<", 
               RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
              RowBox[{
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "-", 
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "nCar", "]"}], "]"}], "-", "1"}], ",", 
              RowBox[{"nCells", "-", 
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "nCar", "]"}], "]"}], "+", 
               RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}]}], 
           "]"}], ";", "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"R1", ":", " ", "Beschleunigen"}], ",", " ", 
            RowBox[{
            "falls", " ", "vMax", " ", "noch", " ", "nicht", " ", 
             "erreicht"}]}], "*)"}], "\n", 
          RowBox[{"vAutos", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"Min", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"vAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "+", "1"}], ",", "vMax"}], 
              "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"R2", ":", " ", "Abbremsen"}], ",", " ", 
            RowBox[{
            "falls", " ", "v", " ", "gr\[ODoubleDot]\[SZ]er", " ", "als", " ",
              "Abstand", " ", "d"}]}], "*)"}], "\n", 
          RowBox[{"vAutos", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"Min", "[", 
              RowBox[{
               RowBox[{"dAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], ",", 
               RowBox[{"vAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", " ", "\n", 
          "\n", 
          RowBox[{"(*", 
           RowBox[{"R3", ":", " ", 
            RowBox[{
            "Tr\[ODoubleDot]deln", " ", "mit", " ", "Wahrscheinlichkeit", " ",
              "p"}]}], "*)"}], "\n", 
          RowBox[{"vAutos", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"RandomReal", "[", 
                 RowBox[{"{", 
                  RowBox[{"0", ",", "1"}], "}"}], "]"}], "<=", "p"}], ",", 
               RowBox[{
                RowBox[{"vAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "=", 
                RowBox[{"Max", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", "0"}], 
                 "]"}]}], ",", 
               RowBox[{"vAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", " ", "\n", 
          "\n", 
          RowBox[{"(*", 
           RowBox[{"R4", ":", " ", 
            RowBox[{"Fahren", " ", "um", " ", "vAutos", " ", "Zellen"}]}], 
           "*)"}], "\n", 
          RowBox[{"xAutos", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"xAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "+", 
                 RowBox[{"vAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}]}], "<=", "nCells"}], ",", 
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "=", 
                RowBox[{
                 RowBox[{"xAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "+", 
                 RowBox[{"vAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}]}]}], ",", 
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "=", 
                RowBox[{
                 RowBox[{"xAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "+", 
                 RowBox[{"vAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "-", "nCells"}]}]}], "]"}], 
             ",", 
             RowBox[{"{", 
              RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";"}]}], "\n", 
        "]"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
          RowBox[{
          "Listen", " ", "Autos", " ", "mit", " ", "Geschwindigkeiten", " ", 
           "v"}], "=", "0"}], ",", "1", ",", "2", ",", "3", ",", "4", ",", 
         "5"}], "*)"}], "\n", 
       RowBox[{"Clear", "[", "viAutos", "]"}]}], ";", "\n", 
      RowBox[{"viAutos", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"Select", "[", 
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"vAutos", "[", 
              RowBox[{"[", "n", "]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"n", ",", "1", ",", "nCar"}], "}"}]}], "]"}], ",", 
           RowBox[{
            RowBox[{"#", "==", "i"}], " ", "&"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "0", ",", "5"}], "}"}]}], "]"}]}], ";", "\n", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"Listen", " ", "Abst\[ADoubleDot]nde", " ", "d"}], "=", 
         "0"}], ",", "1", ",", "...", ",", "nCar"}], "*)"}], "\n", 
      RowBox[{"Clear", "[", "diAutos", "]"}], ";", "\n", 
      RowBox[{"diAutos", "=", 
       RowBox[{"Select", "[", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"Select", "[", 
            RowBox[{
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"dAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], ",", 
               RowBox[{"{", 
                RowBox[{"n", ",", "1", ",", "nCar"}], "}"}]}], "]"}], ",", 
             RowBox[{
              RowBox[{"#", "==", "i"}], " ", "&"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", "0", ",", 
             RowBox[{"nCells", "-", "nCar", "-", "1"}]}], "}"}]}], "]"}], ",", 
         RowBox[{
          RowBox[{"UnsameQ", "[", 
           RowBox[{"#", ",", " ", 
            RowBox[{"{", "}"}]}], "]"}], " ", "&"}]}], "]"}]}], ";", " ", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"Maximaler", " ", "Abstand", " ", "ist", " ", "nCells"}], 
         "-", "nCar", "-", "1"}], ",", " ", 
        RowBox[{
         RowBox[{
         "falls", " ", "alle", " ", "anderen", " ", "Autos", " ", "d"}], "=", 
         RowBox[{"0", " ", "voneinander"}]}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "L\[ODoubleDot]schen", " ", "der", " ", "Abst\[ADoubleDot]nde"}], ",",
         " ", 
        RowBox[{"die", " ", "nicht", " ", "vorkommen"}]}], "*)"}], "\n", "\n", 
      RowBox[{
       RowBox[{"Histogram", "[", 
        RowBox[{"viAutos", ",", 
         RowBox[{"{", "1", "}"}], ",", 
         RowBox[{"AxesLabel", "->", 
          RowBox[{"{", 
           RowBox[{"v", ",", 
            RowBox[{"Anzahl", " ", "Autos", " ", "mit", " ", 
             RowBox[{"Indexed", "[", 
              RowBox[{"v", ",", "\"\<i\>\""}], "]"}]}]}], "}"}]}], ",", 
         RowBox[{"ColorFunction", "->", "\"\<Pastel\>\""}], ",", 
         RowBox[{"ImageSize", "->", "Medium"}]}], "]"}], "\n", 
       RowBox[{"Histogram", "[", 
        RowBox[{"diAutos", ",", 
         RowBox[{"{", "1", "}"}], ",", 
         RowBox[{"AxesLabel", "->", 
          RowBox[{"{", 
           RowBox[{"d", ",", 
            RowBox[{"Anzahl", " ", "Autos", " ", "mit", " ", 
             RowBox[{"Indexed", "[", 
              RowBox[{"d", ",", "\"\<i\>\""}], "]"}]}]}], "}"}]}], ",", 
         RowBox[{"ColorFunction", "->", "\"\<Pastel\>\""}], ",", 
         RowBox[{"ImageSize", "->", "Medium"}]}], "]"}]}]}]}], "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"Histogramm", " ", "z\[ADoubleDot]hlt"}], ",", " ", 
      RowBox[{
      "wie", " ", "oft", " ", "eine", " ", "Zahl", " ", "in", " ", "einer", 
       " ", "Liste", " ", "und", " ", "den", " ", "Sublisten", " ", "darin", 
       " ", "vorkommt"}]}], "*)"}], "\n", "]"}]}]}]], "Code",
 CellFrame->{{0, 0}, {0, 0}},
 Background->None,ExpressionUUID->"a9a05c6e-aaea-44cf-93da-e5833b7444e7"],

Cell[BoxData[
 RowBox[{"vdhisto", "[", 
  RowBox[{"100", ",", "300", ",", "15", ",", "5", ",", "0.3"}], "]"}]], "Code",\
ExpressionUUID->"172d1781-1ca0-4671-b4a8-d7b862fc0f80"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "Berechnung", " ", "mittlere", " ", "v", " ", "\[UDoubleDot]ber", " ", 
     "t"}], ",", " ", 
    RowBox[{
    "Varianz", " ", "des", " ", "mittleren", " ", "Abstands", " ", "und", " ",
      "des", " ", "Verkehrsflusses", " ", "\[UDoubleDot]ber", " ", "t"}]}], 
   "*)"}], "\n", 
  RowBox[{
   RowBox[{"Meanvarfluss", "[", 
    RowBox[{"nCar_", ",", "nCells_", ",", "tMax_", ",", "vMax_", ",", "p_"}], 
    "]"}], ":=", 
   RowBox[{"Module", "[", "\n", 
    RowBox[{"(*", 
     RowBox[{
     "betrachtete", " ", "Zelle", " ", "ist", " ", "letzte", " ", "Zelle", 
      " ", "der", " ", "Stra\[SZ]e"}], "*)"}], "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{"lokale", " ", "Variablen"}], "*)"}], "\n", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "xAutos", ",", "vAutos", ",", "dAutos", ",", "vMittel", ",", "dVar", 
       ",", "savefluss", ",", "savexAutos", ",", "m"}], "}"}], ",", "\n", 
     "\n", 
     RowBox[{"(*", 
      RowBox[{"NaSch", "-", "Modell"}], "*)"}], "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "Autos", " ", "haben", " ", "Position", " ", "x", " ", "und", " ", 
       "Geschwindigkeit", " ", "v", " ", "zum", " ", "vorderen", " ", 
       "Auto"}], "*)"}], "\n", 
     RowBox[{
      RowBox[{"xAutos", "=", 
       RowBox[{"Sort", "[", 
        RowBox[{"RandomSample", "[", 
         RowBox[{
          RowBox[{"Range", "[", "nCells", "]"}], ",", "nCar"}], "]"}], 
        "]"}]}], ";", "\n", 
      RowBox[{"vAutos", "=", 
       RowBox[{"RandomInteger", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "vMax"}], "}"}], ",", "nCar"}], "]"}]}], ";", " ",
       "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "Erzeugen", " ", "einelementige", " ", "Liste", " ", "mit", " ", 
         "vMittel"}], ",", " ", 
        RowBox[{"dVar", " ", "und", " ", "fluss"}]}], "*)"}], " ", "\n", 
      RowBox[{"Clear", "[", "vMittel", "]"}], ";", "\n", 
      RowBox[{"vMittel", "=", 
       RowBox[{"Table", "[", 
        RowBox[{"Nothing", ",", 
         RowBox[{"{", 
          RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", 
      RowBox[{"dVar", "=", 
       RowBox[{"Table", "[", 
        RowBox[{"Nothing", ",", 
         RowBox[{"{", 
          RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", 
      RowBox[{"savefluss", "=", 
       RowBox[{"Table", "[", 
        RowBox[{"Nothing", ",", 
         RowBox[{"{", 
          RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "Liste", " ", "zum", " ", "Speichern", " ", "von", " ", "xAutos", " ", 
        "aus", " ", "dem", " ", "vorherigen", " ", "Zeitschritt"}], "*)"}], 
      "\n", 
      RowBox[{"savexAutos", "=", "xAutos"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "Index", " ", "zum", " ", "\[CapitalUDoubleDot]berpr\[UDoubleDot]fen",
          " ", "der", " ", "Positionen"}], ",", " ", 
        RowBox[{
        "startet", " ", "von", " ", "der", " ", 
         "\[UDoubleDot]berpr\[UDoubleDot]ften", " ", "Zelle", " ", 
         "nCells"}]}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
       "Fluss", " ", "als", " ", "Durchfluss", " ", "von", " ", "Position", 
        " ", "nCells", " ", "zu", " ", "1"}], "*)"}], "\n", 
      RowBox[{"m", "=", "nCar"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Verkehrsregeln", " ", "aus", " ", "NaSch"}], "-", 
        RowBox[{"Modell", " ", "implementieren"}]}], "*)"}], "\n", 
      RowBox[{"For", "[", 
       RowBox[{
        RowBox[{"i", "=", "0"}], ",", 
        RowBox[{"i", "<=", "tMax"}], ",", 
        RowBox[{"i", "++"}], ",", " ", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "Freie", " ", "Zellen", " ", "d", " ", "vor", " ", "dem", " ", 
          "Auto", " ", "bis", " ", "zum", " ", "vorderen"}], "*)"}], "\n", 
        RowBox[{
         RowBox[{"dAutos", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "<", 
               RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
              RowBox[{
               RowBox[{"xAutos", "[", 
                RowBox[{"[", 
                 RowBox[{"n", "+", "1"}], "]"}], "]"}], "-", 
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", 
              RowBox[{"nCells", "-", 
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "+", 
               RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", 
              RowBox[{"nCar", "-", "1"}]}], "}"}]}], "]"}]}], ";", " ", "\n", 
         RowBox[{"AppendTo", "[", 
          RowBox[{"dAutos", ",", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"xAutos", "[", 
               RowBox[{"[", "nCar", "]"}], "]"}], "<", 
              RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
             RowBox[{
              RowBox[{"xAutos", "[", 
               RowBox[{"[", "1", "]"}], "]"}], "-", 
              RowBox[{"xAutos", "[", 
               RowBox[{"[", "nCar", "]"}], "]"}], "-", "1"}], ",", 
             RowBox[{"nCells", "-", 
              RowBox[{"xAutos", "[", 
               RowBox[{"[", "nCar", "]"}], "]"}], "+", 
              RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}]}], 
          "]"}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"R1", ":", " ", "Beschleunigen"}], ",", " ", 
           RowBox[{
           "falls", " ", "vMax", " ", "noch", " ", "nicht", " ", 
            "erreicht"}]}], "*)"}], "\n", 
         RowBox[{"vAutos", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"Min", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"vAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "+", "1"}], ",", "vMax"}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"R2", ":", " ", "Abbremsen"}], ",", " ", 
           RowBox[{
           "falls", " ", "v", " ", "gr\[ODoubleDot]\[SZ]er", " ", "als", " ", 
            "Abstand", " ", "d"}]}], "*)"}], "\n", 
         RowBox[{"vAutos", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"Min", "[", 
             RowBox[{
              RowBox[{"dAutos", "[", 
               RowBox[{"[", "n", "]"}], "]"}], ",", 
              RowBox[{"vAutos", "[", 
               RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", " ", "\n", 
         "\n", 
         RowBox[{"(*", 
          RowBox[{"R3", ":", " ", 
           RowBox[{
           "Tr\[ODoubleDot]deln", " ", "mit", " ", "Wahrscheinlichkeit", " ", 
            "p"}]}], "*)"}], "\n", 
         RowBox[{"vAutos", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"RandomReal", "[", 
                RowBox[{"{", 
                 RowBox[{"0", ",", "1"}], "}"}], "]"}], "<=", "p"}], ",", 
              RowBox[{
               RowBox[{"vAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "=", 
               RowBox[{"Max", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"vAutos", "[", 
                   RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", "0"}], 
                "]"}]}], ",", 
              RowBox[{"vAutos", "[", 
               RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", " ", "\n", 
         "\n", 
         RowBox[{"(*", 
          RowBox[{"R4", ":", " ", 
           RowBox[{"Fahren", " ", "um", " ", "vAutos", " ", "Zellen"}]}], 
          "*)"}], "\n", 
         RowBox[{"xAutos", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "+", 
                RowBox[{"vAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}]}], "<=", "nCells"}], ",", 
              RowBox[{
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "+", 
                RowBox[{"vAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}]}]}], ",", 
              RowBox[{
               RowBox[{"xAutos", "[", 
                RowBox[{"[", "n", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{"xAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "+", 
                RowBox[{"vAutos", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "-", "nCells"}]}]}], "]"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
          "Verkehrsfluss", " ", "durch", " ", "letzte", " ", "Zelle"}], 
          "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{"\[CapitalUDoubleDot]berpr\[UDoubleDot]ft", ",", " ", 
           RowBox[{
           "ob", " ", "Auto", " ", "mit", " ", "h\[ODoubleDot]chster", " ", 
            "Position", " ", "\[UDoubleDot]ber", " ", "Stra\[SZ]enende", " ", 
            "hinaus", " ", "auf", " ", "den", " ", "Anfang", " ", 
            "zur\[UDoubleDot]ck", " ", "gefahren", " ", "ist", " ", "\n", 
            RowBox[{"ja", ":", " ", 
             RowBox[{
              RowBox[{
              "n\[ADoubleDot]chst", " ", "niedrigeres", " ", "Auto", " ", 
               "wird", " ", "betrachtet"}], " ", "+", " ", 
              RowBox[{
              "fluss", " ", "1", " ", "hinzuf\[UDoubleDot]gen"}]}]}]}], ",", 
           " ", "\n", 
           RowBox[{"nein", ":", " ", 
            RowBox[{
             RowBox[{"Auto", " ", "wird", " ", "weiter", " ", "betrachtet"}], 
             " ", "+", " ", 
             RowBox[{
             "fluss", " ", "0", " ", "hinzuf\[UDoubleDot]gen", "\n", "Index", 
              " ", "m", " ", "geht", " ", "Autos", " ", "vom", " ", "letzten",
               " ", "Element", " ", "bis", " ", "zum", " ", "ersten", " ", 
              "durch"}]}]}], ",", " ", 
           RowBox[{
           "danach", " ", "wieder", " ", "Start", " ", "bei", " ", 
            "letztem"}]}], "*)"}], "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"m", "==", "0"}], ",", 
           RowBox[{"m", "=", "nCar"}], ",", 
           RowBox[{"m", "=", "m"}]}], "]"}], ";", "\n", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"xAutos", "[", 
              RowBox[{"[", "m", "]"}], "]"}], "<", 
             RowBox[{"savexAutos", "[", 
              RowBox[{"[", "m", "]"}], "]"}]}], ",", "\n", 
            RowBox[{
             RowBox[{"AppendTo", "[", 
              RowBox[{"savefluss", ",", "1"}], "]"}], ";", "\n", 
             RowBox[{"m", "=", 
              RowBox[{"m", "-", "1"}]}], ";"}], ",", "\n", 
            RowBox[{
             RowBox[{"AppendTo", "[", 
              RowBox[{"savefluss", ",", "0"}], "]"}], ";"}]}], "\n", "]"}], 
          "\n", 
          RowBox[{"Clear", "[", "savexAutos", "]"}]}], ";", "\n", 
         RowBox[{"savexAutos", "=", "xAutos"}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"mittlere", " ", "Geschwindigkeit"}], "*)"}], "\n", 
         RowBox[{"AppendTo", "[", 
          RowBox[{"vMittel", ",", " ", 
           RowBox[{"N", "[", 
            RowBox[{
             RowBox[{"Mean", "[", "vAutos", "]"}], ",", "6"}], "]"}]}], "]"}],
          ";", "\n", 
         RowBox[{"(*", 
          RowBox[{"Varianz", " ", "dAutos"}], "*)"}], "\n", 
         RowBox[{"AppendTo", "[", 
          RowBox[{"dVar", ",", " ", 
           RowBox[{"N", "[", 
            RowBox[{
             RowBox[{"Variance", "[", "dAutos", "]"}], ",", "6"}], "]"}]}], 
          "]"}], ";"}]}], "\n", "\n", "]"}], ";", "\n", 
      RowBox[{
       RowBox[{
        RowBox[{"ResourceFunction", "[", "\"\<PlotGrid\>\"", "]"}], "[", 
        RowBox[{
         RowBox[{"{", "\n", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"ListPlot", "[", 
             RowBox[{"vMittel", ",", 
              RowBox[{"ImageSize", "->", "Automatic"}], ",", 
              RowBox[{"ColorFunction", "->", "\"\<Rainbow\>\""}], ",", 
              RowBox[{"Frame", "->", "True"}], ",", 
              RowBox[{"FrameLabel", "->", 
               RowBox[{"{", 
                RowBox[{"None", ",", 
                 RowBox[{"\"\<mittlere Geschwindigkeit\>\"", " ", 
                  RowBox[{"OverBar", "[", "v", "]"}]}]}], "}"}]}]}], "]"}], 
            "}"}], ",", "\n", 
           RowBox[{"{", 
            RowBox[{"ListPlot", "[", 
             RowBox[{"dVar", ",", 
              RowBox[{"ImageSize", "->", "Automatic"}], ",", 
              RowBox[{"ColorFunction", "->", "\"\<Rainbow\>\""}], ",", 
              RowBox[{"Frame", "->", "True"}], ",", 
              RowBox[{"FrameLabel", "->", 
               RowBox[{"{", 
                RowBox[{"None", ",", "\"\<Varianz des Abstands d\>\""}], 
                "}"}]}]}], "]"}], "}"}], ",", "\n", 
           RowBox[{"{", 
            RowBox[{"ListPlot", "[", 
             RowBox[{"savefluss", ",", 
              RowBox[{"ImageSize", "->", "Automatic"}], ",", 
              RowBox[{"ColorFunction", "->", "\"\<Rainbow\>\""}], ",", 
              RowBox[{"Frame", "->", "True"}], ",", 
              RowBox[{"FrameLabel", "->", 
               RowBox[{"{", 
                RowBox[{"None", ",", 
                 RowBox[{"Fluss", " ", "pro", " ", "Zeitschritt"}]}], 
                "}"}]}]}], "]"}], "}"}]}], "\n", "}"}], ",", "\n", 
         RowBox[{"ImageSize", "->", "Large"}], ",", 
         RowBox[{"FrameLabel", "->", 
          RowBox[{"{", 
           RowBox[{"\"\<Zeit t\>\"", ",", "None"}], "}"}]}]}], "\n", "]"}], 
       "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "Korrelation", " ", "mittlere", " ", "Geschwindigkeit", " ", "und", 
         " ", "Varianz", " ", "des", " ", "Abstands"}], "*)"}], "\n", 
       RowBox[{"ListPlot", "[", 
        RowBox[{
         RowBox[{"Thread", "[", 
          RowBox[{"{", 
           RowBox[{"dVar", ",", "vMittel"}], "}"}], "]"}], ",", 
         RowBox[{"ImageSize", "->", "Medium"}], ",", 
         RowBox[{"ColorFunction", "->", "\"\<Rainbow\>\""}], ",", 
         RowBox[{"Frame", "->", "True"}], ",", 
         RowBox[{"FrameLabel", "->", 
          RowBox[{"{", 
           RowBox[{"\"\<Varianz des Abstands d\>\"", ",", 
            RowBox[{"\"\<mittlere Geschwindigkeit\>\"", " ", 
             RowBox[{"OverBar", "[", "v", "]"}]}]}], "}"}]}]}], "]"}]}]}]}], 
    "\n", "]"}]}]}]], "Code",
 CellFrame->{{0, 0}, {0, 0}},
 Background->None,ExpressionUUID->"f3ea62d7-2a4b-4215-8f74-7702256029c8"],

Cell[BoxData[
 RowBox[{"Meanvarfluss", "[", 
  RowBox[{"10", ",", "40", ",", "50", ",", "5", ",", "0.15"}], "]"}]], "Code",\
ExpressionUUID->"def195a3-e01c-49b0-b7ca-c0426981a609"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", "Fundamentalplot", "*)"}], "\n", 
  RowBox[{
   RowBox[{"FundamentalD", "[", 
    RowBox[{"nCells_", ",", "tMax_", ",", "vMax_", ",", "p_"}], "]"}], ":=", 
   RowBox[{"Module", "[", "\n", 
    RowBox[{"(*", 
     RowBox[{
     "Fluss", " ", "wird", " ", "f\[UDoubleDot]r", " ", "Dichten", " ", "0", 
      " ", "bis", " ", "1", " ", "berechnet"}], "*)"}], "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{"lokale", " ", "Variablen"}], "*)"}], "\n", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "xAutos", ",", "vAutos", ",", "dAutos", ",", "nCar", ",", "density", 
       ",", "addfluss", ",", "savexAutos", ",", "m", ",", "fluss"}], "}"}], 
     ",", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
       "Erzeugen", " ", "einelementige", " ", "Liste", " ", "mit", " ", 
        "Dichte"}], ",", " ", "Fluss", ",", " ", 
       RowBox[{
       "und", " ", "Fluss", " ", "f\[UDoubleDot]r", " ", "jede", " ", 
        "Anzahl", " ", "an", " ", "Autos"}]}], "*)"}], " ", "\n", 
     RowBox[{
      RowBox[{"density", "=", 
       RowBox[{"Table", "[", 
        RowBox[{"Nothing", ",", 
         RowBox[{"{", 
          RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", 
      RowBox[{"fluss", "=", 
       RowBox[{"Table", "[", 
        RowBox[{"Nothing", ",", 
         RowBox[{"{", 
          RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"NaSch", "-", "Modell"}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"Schleife", " ", "f\[UDoubleDot]r", " ", "ansteigende", " ", 
        RowBox[{"Dichte", "/", "Anzahlen"}], " ", "an", " ", "Autos"}], 
       "*)"}], "\n", 
      RowBox[{"For", "[", 
       RowBox[{
        RowBox[{"nCar", "=", "0"}], ",", 
        RowBox[{"nCar", "<=", "nCells"}], ",", 
        RowBox[{"nCar", "++"}], ",", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "Autos", " ", "haben", " ", "Position", " ", "x", " ", "und", " ", 
          "Geschwindigkeit", " ", "v", " ", "zum", " ", "vorderen", " ", 
          "Auto"}], "*)"}], "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"xAutos", "=", 
           RowBox[{"Sort", "[", 
            RowBox[{"RandomSample", "[", 
             RowBox[{
              RowBox[{"Range", "[", "nCells", "]"}], ",", "nCar"}], "]"}], 
            "]"}]}], ";", "\n", 
          RowBox[{"vAutos", "=", 
           RowBox[{"RandomInteger", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "vMax"}], "}"}], ",", "nCar"}], "]"}]}], ";", 
          " ", "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{
           "Liste", " ", "zum", " ", "Speichern", " ", "von", " ", "xAutos", 
            " ", "aus", " ", "dem", " ", "vorherigen", " ", "Zeitschritt"}], 
           "*)"}], "\n", 
          RowBox[{"savexAutos", "=", "xAutos"}], ";", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
            "Index", " ", "zum", " ", 
             "\[CapitalUDoubleDot]berpr\[UDoubleDot]fen", " ", "der", " ", 
             "Positionen"}], ",", " ", 
            RowBox[{
            "startet", " ", "von", " ", "der", " ", 
             "\[UDoubleDot]berpr\[UDoubleDot]ften", " ", "Zelle", " ", 
             "nCells"}]}], "*)"}], 
          RowBox[{"(*", 
           RowBox[{
           "Fluss", " ", "als", " ", "Durchfluss", " ", "von", " ", 
            "Position", " ", "nCells", " ", "zu", " ", "1"}], "*)"}], "\n", 
          RowBox[{"m", "=", "nCar"}], ";", "\n", 
          RowBox[{"addfluss", "=", "0"}], ";", "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"Verkehrsregeln", " ", "aus", " ", "NaSch"}], "-", 
            RowBox[{"Modell", " ", "implementieren"}]}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"For", "[", 
            RowBox[{
             RowBox[{"i", "=", "0"}], ",", 
             RowBox[{"i", "<=", "tMax"}], ",", 
             RowBox[{"i", "++"}], ",", " ", "\n", "\n", 
             RowBox[{"(*", 
              RowBox[{
              "Freie", " ", "Zellen", " ", "d", " ", "vor", " ", "dem", " ", 
               "Auto", " ", "bis", " ", "zum", " ", "vorderen"}], "*)"}], 
             "\n", 
             RowBox[{
              RowBox[{"dAutos", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "<", 
                    RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
                   RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", 
                    RowBox[{"n", "+", "1"}], "]"}], "]"}], "-", 
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", 
                   RowBox[{"nCells", "-", 
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}], 
                 ",", 
                 RowBox[{"{", 
                  RowBox[{"n", ",", 
                   RowBox[{"nCar", "-", "1"}]}], "}"}]}], "]"}]}], ";", " ", 
              "\n", 
              RowBox[{"AppendTo", "[", 
               RowBox[{"dAutos", ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"xAutos", "[", 
                    RowBox[{"[", "nCar", "]"}], "]"}], "<", 
                   RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
                  RowBox[{
                   RowBox[{"xAutos", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", 
                   RowBox[{"xAutos", "[", 
                    RowBox[{"[", "nCar", "]"}], "]"}], "-", "1"}], ",", 
                  RowBox[{"nCells", "-", 
                   RowBox[{"xAutos", "[", 
                    RowBox[{"[", "nCar", "]"}], "]"}], "+", 
                   RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}]}],
                "]"}], ";", "\n", "\n", 
              RowBox[{"(*", 
               RowBox[{
                RowBox[{"R1", ":", " ", "Beschleunigen"}], ",", " ", 
                RowBox[{
                "falls", " ", "vMax", " ", "noch", " ", "nicht", " ", 
                 "erreicht"}]}], "*)"}], "\n", 
              RowBox[{"vAutos", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"Min", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", "1"}], ",", "vMax"}],
                   "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", "\n", 
              "\n", 
              RowBox[{"(*", 
               RowBox[{
                RowBox[{"R2", ":", " ", "Abbremsen"}], ",", " ", 
                RowBox[{
                "falls", " ", "v", " ", "gr\[ODoubleDot]\[SZ]er", " ", "als", 
                 " ", "Abstand", " ", "d"}]}], "*)"}], "\n", 
              RowBox[{"vAutos", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"Min", "[", 
                  RowBox[{
                   RowBox[{"dAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], ",", 
                   RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", " ", 
              "\n", "\n", 
              RowBox[{"(*", 
               RowBox[{"R3", ":", " ", 
                RowBox[{
                "Tr\[ODoubleDot]deln", " ", "mit", " ", "Wahrscheinlichkeit", 
                 " ", "p"}]}], "*)"}], "\n", 
              RowBox[{"vAutos", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"RandomReal", "[", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "1"}], "}"}], "]"}], "<=", "p"}], ",", 
                   RowBox[{
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{"Max", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", "0"}], 
                    "]"}]}], ",", 
                   RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", " ", 
              "\n", "\n", 
              RowBox[{"(*", 
               RowBox[{"R4", ":", " ", 
                RowBox[{"Fahren", " ", "um", " ", "vAutos", " ", "Zellen"}]}],
                "*)"}], "\n", 
              RowBox[{"xAutos", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "<=", "nCells"}], ",", 
                   RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}]}], ",", 
                   RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "nCells"}]}]}], 
                  "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", "\n", 
              "\n", 
              RowBox[{"(*", 
               RowBox[{
                RowBox[{
                "Verkehrsfluss", " ", "durch", " ", "letzte", " ", "Zelle"}], 
                " ", "->", " ", 
                RowBox[{
                "Anzahl", " ", "Autos", " ", "durch", " ", "Zelle", " ", 
                 "pro", " ", "Zeitschritt"}]}], "*)"}], "\n", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"m", "==", "0"}], ",", 
                RowBox[{"m", "=", "nCar"}], ",", 
                RowBox[{"m", "=", "m"}]}], "]"}], ";", "\n", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"xAutos", "[", 
                   RowBox[{"[", "m", "]"}], "]"}], "<", 
                  RowBox[{"savexAutos", "[", 
                   RowBox[{"[", "m", "]"}], "]"}]}], ",", "\n", 
                 RowBox[{
                  RowBox[{"addfluss", "=", 
                   RowBox[{"addfluss", "+", "1"}]}], ";", "\n", 
                  RowBox[{"m", "=", 
                   RowBox[{"m", "-", "1"}]}], ";"}], ",", "\n", 
                 RowBox[{
                  RowBox[{"addfluss", "=", "addfluss"}], ";"}]}], "\n", "]"}],
                "\n", 
               RowBox[{"Clear", "[", "savexAutos", "]"}]}], ";", "\n", 
              RowBox[{"savexAutos", "=", "xAutos"}], ";"}]}], "\n", "]"}], 
           "\n", "\n", 
           RowBox[{"(*", 
            RowBox[{
            "Dichte", " ", "\[UDoubleDot]ber", " ", "die", " ", "gesamte", 
             " ", "Stra\[SZ]e"}], "*)"}], "\n", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"density", ",", 
             RowBox[{"nCar", "/", "nCells"}]}], "]"}]}], ";"}], "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"Verkehrsfluss", " ", "f\[UDoubleDot]r", " ", "Dichte", " ", 
           RowBox[{"nCar", "/", "nCells"}]}], "*)"}], ";", "\n", 
         RowBox[{"AppendTo", "[", 
          RowBox[{"fluss", ",", "addfluss"}], "]"}], ";"}]}], "\n", "]"}], 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Fehlend", ":", " ", 
         RowBox[{"f\[UDoubleDot]r", " ", "verschiedene", " ", "p"}]}], " ", "->",
         " ", 
        RowBox[{"im", " ", "Aufruf", " ", "selbst"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"Fundamentalplot", " ", "mit", " ", "addfluss"}], "*)"}], ";", 
      "\n", 
      RowBox[{"ListPlot", "[", 
       RowBox[{
        RowBox[{"Thread", "[", 
         RowBox[{"{", 
          RowBox[{"density", ",", 
           RowBox[{"fluss", "/", "tMax"}]}], "}"}], "]"}], ",", 
        RowBox[{"ImageSize", "->", "Medium"}], ",", 
        RowBox[{"Frame", "->", "True"}], ",", 
        RowBox[{"FrameLabel", "->", 
         RowBox[{"{", 
          RowBox[{
          "\"\<Dichte \[Rho]\>\"", ",", 
           "\"\<Zeitliches Mittel des Flusses \[UDoubleDot]ber letzte Zelle\>\
\""}], "}"}]}], ",", "\n", 
        RowBox[{"PlotStyle", "->", 
         RowBox[{"RandomChoice", "[", 
          RowBox[{"{", 
           RowBox[{
           "Red", ",", "Orange", ",", "Yellow", ",", "LightGreen", ",", 
            "LightBlue", ",", "Blue", ",", "Purple", ",", "Pink"}], "}"}], 
          "]"}]}]}], "]"}]}]}], " ", 
    RowBox[{"(*", 
     RowBox[{
     "Punkte", " ", "hell", " ", "f\[UDoubleDot]r", " ", "dunklen", " ", 
      "Hintergrund", " ", "in", " ", "sp\[ADoubleDot]terem", " ", 
      "Notebook"}], "*)"}], "\n", "]"}]}]}]], "Code",
 CellFrame->{{0, 0}, {0, 0}},
 Background->None,ExpressionUUID->"ce296155-e0c4-492a-ba18-3be5abee4e59"],

Cell[BoxData[{
 RowBox[{"FundamentalD", "[", 
  RowBox[{"100", ",", "20", ",", "5", ",", "0"}], "]"}], "\n", 
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"FundamentalD", "[", 
     RowBox[{"100", ",", "20", ",", "5", ",", "0.1"}], "]"}], "\n", 
    RowBox[{"FundamentalD", "[", 
     RowBox[{"100", ",", "20", ",", "5", ",", "0.15"}], "]"}], "\n", 
    RowBox[{"FundamentalD", "[", 
     RowBox[{"100", ",", "20", ",", "5", ",", "0.2"}], "]"}], "\n", 
    RowBox[{"FundamentalD", "[", 
     RowBox[{"100", ",", "20", ",", "5", ",", "0.25"}], "]"}], "\n", 
    RowBox[{"FundamentalD", "[", 
     RowBox[{"100", ",", "20", ",", "5", ",", "0.3"}], "]"}], "\n", 
    RowBox[{"FundamentalD", "[", 
     RowBox[{"100", ",", "20", ",", "5", ",", "0.5"}], "]"}], "\n", 
    RowBox[{"FundamentalD", "[", 
     RowBox[{"100", ",", "20", ",", "5", ",", "0.75"}], "]"}], "\n", 
    RowBox[{"FundamentalD", "[", 
     RowBox[{"100", ",", "20", ",", "5", ",", "1"}], "]"}]}], 
   "*)"}]}]}], "Code",ExpressionUUID->"9af28515-9f15-4872-97f8-ada328d44e70"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"Fundamentalplots", " ", "des", " ", "Velocity"}], "-", 
    "Dependent", "-", 
    RowBox[{"Randomization", " ", "Modells"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"vdrNaSch", "[", 
    RowBox[{"nCells_", ",", "tMax_", ",", "vMax_", ",", "p_", ",", "q_"}], 
    "]"}], ":=", 
   RowBox[{"Module", "[", "\n", 
    RowBox[{"(*", 
     RowBox[{
     "q", " ", "ist", " ", "zus\[ADoubleDot]tzliche", " ", 
      "Wahrscheinlichkeit", " ", "zum", " ", "Tr\[ODoubleDot]deln", " ", 
      "beim", " ", "Anfahren"}], "*)"}], "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{"lokale", " ", "Variablen"}], "*)"}], "\n", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "xAutos", ",", "vAutos", ",", "dAutos", ",", "nCar", ",", "density", 
       ",", "addfluss", ",", "savexAutos", ",", "m", ",", "fluss"}], "}"}], 
     ",", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
       "Erzeugen", " ", "einelementige", " ", "Liste", " ", "mit", " ", 
        "Dichte"}], ",", " ", "Fluss", ",", " ", 
       RowBox[{
       "und", " ", "Fluss", " ", "f\[UDoubleDot]r", " ", "jede", " ", 
        "Anzahl", " ", "an", " ", "Autos"}]}], "*)"}], " ", "\n", 
     RowBox[{
      RowBox[{"density", "=", 
       RowBox[{"Table", "[", 
        RowBox[{"Nothing", ",", 
         RowBox[{"{", 
          RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", 
      RowBox[{"fluss", "=", 
       RowBox[{"Table", "[", 
        RowBox[{"Nothing", ",", 
         RowBox[{"{", 
          RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"Schleife", " ", "f\[UDoubleDot]r", " ", "ansteigende", " ", 
        RowBox[{"Dichte", "/", "Anzahlen"}], " ", "an", " ", "Autos"}], 
       "*)"}], "\n", 
      RowBox[{"For", "[", 
       RowBox[{
        RowBox[{"nCar", "=", "0"}], ",", 
        RowBox[{"nCar", "<=", "nCells"}], ",", 
        RowBox[{"nCar", "++"}], ",", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "Autos", " ", "haben", " ", "Position", " ", "x", " ", "und", " ", 
          "Geschwindigkeit", " ", "v", " ", "zum", " ", "vorderen", " ", 
          "Auto"}], "*)"}], "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"xAutos", "=", 
           RowBox[{"Sort", "[", 
            RowBox[{"RandomSample", "[", 
             RowBox[{
              RowBox[{"Range", "[", "nCells", "]"}], ",", "nCar"}], "]"}], 
            "]"}]}], ";", "\n", 
          RowBox[{"vAutos", "=", 
           RowBox[{"RandomInteger", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "vMax"}], "}"}], ",", "nCar"}], "]"}]}], ";", 
          "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{
           "Liste", " ", "zum", " ", "Speichern", " ", "von", " ", "xAutos", 
            " ", "aus", " ", "dem", " ", "vorherigen", " ", "Zeitschritt"}], 
           "*)"}], "\n", 
          RowBox[{"savexAutos", "=", "xAutos"}], ";", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
            "Index", " ", "zum", " ", 
             "\[CapitalUDoubleDot]berpr\[UDoubleDot]fen", " ", "der", " ", 
             "Positionen"}], ",", " ", 
            RowBox[{
            "startet", " ", "von", " ", "der", " ", 
             "\[UDoubleDot]berpr\[UDoubleDot]ften", " ", "Zelle", " ", 
             "nCells"}]}], "*)"}], 
          RowBox[{"(*", 
           RowBox[{
           "Fluss", " ", "als", " ", "Durchfluss", " ", "von", " ", 
            "Position", " ", "nCells", " ", "zu", " ", "1"}], "*)"}], "\n", 
          RowBox[{"m", "=", "nCar"}], ";", "\n", 
          RowBox[{"addfluss", "=", "0"}], ";", "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"Verkehrsregeln", " ", "aus", " ", "NaSch"}], "-", 
            RowBox[{"Modell", " ", "implementieren"}]}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"For", "[", 
            RowBox[{
             RowBox[{"i", "=", "0"}], ",", 
             RowBox[{"i", "<=", "tMax"}], ",", 
             RowBox[{"i", "++"}], ",", " ", "\n", "\n", 
             RowBox[{"(*", 
              RowBox[{
              "Freie", " ", "Zellen", " ", "d", " ", "vor", " ", "dem", " ", 
               "Auto", " ", "bis", " ", "zum", " ", "vorderen"}], "*)"}], 
             "\n", 
             RowBox[{
              RowBox[{"dAutos", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "<", 
                    RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
                   RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", 
                    RowBox[{"n", "+", "1"}], "]"}], "]"}], "-", 
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", 
                   RowBox[{"nCells", "-", 
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}], 
                 ",", 
                 RowBox[{"{", 
                  RowBox[{"n", ",", 
                   RowBox[{"nCar", "-", "1"}]}], "}"}]}], "]"}]}], ";", "\n", 
              RowBox[{"AppendTo", "[", 
               RowBox[{"dAutos", ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"xAutos", "[", 
                    RowBox[{"[", "nCar", "]"}], "]"}], "<", 
                   RowBox[{"Max", "[", "xAutos", "]"}]}], ",", 
                  RowBox[{
                   RowBox[{"xAutos", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", 
                   RowBox[{"xAutos", "[", 
                    RowBox[{"[", "nCar", "]"}], "]"}], "-", "1"}], ",", 
                  RowBox[{"nCells", "-", 
                   RowBox[{"xAutos", "[", 
                    RowBox[{"[", "nCar", "]"}], "]"}], "+", 
                   RowBox[{"Min", "[", "xAutos", "]"}], "-", "1"}]}], "]"}]}],
                "]"}], ";", "\n", "\n", 
              RowBox[{"(*", 
               RowBox[{
                RowBox[{"R1", ":", " ", "Beschleunigen"}], ",", " ", 
                RowBox[{
                "falls", " ", "vMax", " ", "noch", " ", "nicht", " ", 
                 "erreicht"}]}], "*)"}], "\n", 
              RowBox[{"vAutos", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"Min", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", "1"}], ",", "vMax"}],
                   "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", "\n", 
              "\n", 
              RowBox[{"(*", 
               RowBox[{
                RowBox[{"R2", ":", " ", "Abbremsen"}], ",", " ", 
                RowBox[{
                "falls", " ", "v", " ", "gr\[ODoubleDot]\[SZ]er", " ", "als", 
                 " ", "Abstand", " ", "d"}]}], "*)"}], "\n", 
              RowBox[{"vAutos", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"Min", "[", 
                  RowBox[{
                   RowBox[{"dAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], ",", 
                   RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", " ", 
              "\n", "\n", 
              RowBox[{"(*", 
               RowBox[{"R3", ":", " ", 
                RowBox[{
                "Tr\[ODoubleDot]deln", " ", "mit", " ", "Wahrscheinlichkeit", 
                 " ", "p"}]}], "*)"}], 
              RowBox[{"(*", 
               RowBox[{"Randomization", ",", " ", 
                RowBox[{"q", "=", 
                 RowBox[{"p0", "-", "p"}]}], ",", " ", 
                RowBox[{
                 RowBox[{"p", "+", 
                  RowBox[{
                  "q", " ", "wahrscheinlichkeit", " ", "dass", " ", "sie", 
                   " ", "tr\[ODoubleDot]deln", " ", "falls", " ", "die", " ", 
                   "vorher", " ", "v"}]}], "=", 
                 RowBox[{"0", " ", "hatten"}]}], ",", " ", 
                RowBox[{"p", "=", 
                 RowBox[{
                  RowBox[{"wahrsch", ".", " ", "v"}], ">", "0"}]}]}], "*)"}], 
              "\n", 
              RowBox[{"vAutos", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "==", "0"}], ",", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"RandomReal", "[", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "1"}], "}"}], "]"}], "<=", 
                    RowBox[{"p", "+", "q"}]}], ",", 
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], ",", 
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"RandomReal", "[", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "1"}], "}"}], "]"}], "<=", "p"}], ",", 
                    RowBox[{
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}]}], ",", 
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "]"}]}], "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", "\n", 
              RowBox[{"(*", 
               RowBox[{
               "Wenn", " ", "Auto", " ", "steht", " ", "ist", " ", "p", " ", 
                "um", " ", "q", " ", "erh\[ODoubleDot]ht"}], "*)"}], "\n", 
              "\n", 
              RowBox[{"(*", 
               RowBox[{"R4", ":", " ", 
                RowBox[{"Fahren", " ", "um", " ", "vAutos", " ", "Zellen"}]}],
                "*)"}], "\n", 
              RowBox[{"xAutos", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "<=", "nCells"}], ",", 
                   RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}]}], ",", 
                   RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{
                    RowBox[{"xAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "nCells"}]}]}], 
                  "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}]}], ";", "\n", 
              "\n", 
              RowBox[{"(*", 
               RowBox[{
                RowBox[{"VDR", ":", " ", 
                 RowBox[{
                  RowBox[{
                  "beim", " ", "Anfahren", " ", "nur", " ", "mit", " ", 
                   "einer", " ", "Wahrscheinlichkeit", " ", "p"}], "+", 
                  RowBox[{"q", " ", "anfahren"}]}]}], " ", "->", " ", 
                RowBox[{"lieber", " ", "im", " ", "Modul", " ", 
                 RowBox[{"festlegen", "?"}]}]}], "*)"}], "\n", "\n", 
              RowBox[{"(*", 
               RowBox[{
                RowBox[{
                "Verkehrsfluss", " ", "durch", " ", "letzte", " ", "Zelle"}], 
                " ", "->", " ", 
                RowBox[{
                "Anzahl", " ", "Autos", " ", "durch", " ", "Zelle", " ", 
                 "pro", " ", "Zeitschritt"}]}], "*)"}], "\n", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"m", "==", "0"}], ",", 
                RowBox[{"m", "=", "nCar"}], ",", 
                RowBox[{"m", "=", "m"}]}], "]"}], ";", "\n", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"xAutos", "[", 
                   RowBox[{"[", "m", "]"}], "]"}], "<", 
                  RowBox[{"savexAutos", "[", 
                   RowBox[{"[", "m", "]"}], "]"}]}], ",", "\n", 
                 RowBox[{
                  RowBox[{"addfluss", "=", 
                   RowBox[{"addfluss", "+", "1"}]}], ";", "\n", 
                  RowBox[{"m", "=", 
                   RowBox[{"m", "-", "1"}]}], ";"}], ",", "\n", 
                 RowBox[{
                  RowBox[{"addfluss", "=", "addfluss"}], ";"}]}], "\n", "]"}],
                "\n", 
               RowBox[{"Clear", "[", "savexAutos", "]"}]}], ";", "\n", 
              RowBox[{"savexAutos", "=", "xAutos"}], ";"}]}], "\n", "]"}], 
           "\n", 
           RowBox[{"(*", 
            RowBox[{
            "Dichte", " ", "\[UDoubleDot]ber", " ", "die", " ", "gesamte", 
             " ", "Stra\[SZ]e"}], "*)"}], "\n", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"density", ",", 
             RowBox[{"nCar", "/", "nCells"}]}], "]"}]}], ";"}], "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"Verkehrsfluss", " ", "f\[UDoubleDot]r", " ", "Dichte", " ", 
           RowBox[{"nCar", "/", "nCells"}]}], "*)"}], ";", "\n", 
         RowBox[{"AppendTo", "[", 
          RowBox[{"fluss", ",", "addfluss"}], "]"}], ";"}]}], "\n", "]"}], 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Fehlend", ":", " ", 
         RowBox[{"f\[UDoubleDot]r", " ", "verschiedene", " ", "p"}]}], " ", "->",
         " ", 
        RowBox[{"im", " ", "Aufruf", " ", "selbst"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"Fundamentalplot", " ", "mit", " ", "addfluss"}], "*)"}], ";", 
      "\n", 
      RowBox[{"ListPlot", "[", 
       RowBox[{
        RowBox[{"Thread", "[", 
         RowBox[{"{", 
          RowBox[{"density", ",", 
           RowBox[{"fluss", "/", "tMax"}]}], "}"}], "]"}], ",", 
        RowBox[{"ImageSize", "->", "Medium"}], ",", 
        RowBox[{"Frame", "->", "True"}], ",", 
        RowBox[{"FrameLabel", "->", 
         RowBox[{"{", 
          RowBox[{
          "\"\<Dichte \[Rho]\>\"", ",", 
           "\"\<Zeitliches Mittel des Flusses \[UDoubleDot]ber letzte Zelle\>\
\""}], "}"}]}], ",", "\n", 
        RowBox[{"PlotStyle", "->", 
         RowBox[{"RandomChoice", "[", 
          RowBox[{"{", 
           RowBox[{
           "Red", ",", "Orange", ",", "Yellow", ",", "LightGreen", ",", 
            "LightBlue", ",", "Blue", ",", "Purple", ",", "Pink"}], "}"}], 
          "]"}]}]}], "]"}]}]}], " ", 
    RowBox[{"(*", 
     RowBox[{
     "Hell", " ", "f\[UDoubleDot]r", " ", "dunklen", " ", "Hintergrund", " ", 
      "in", " ", "sp\[ADoubleDot]terem", " ", "Notebook"}], "*)"}], "\n", 
    "]"}]}]}]], "Code",
 CellFrame->{{0, 0}, {0, 0}},
 Background->None,ExpressionUUID->"931ee5d5-1d2f-4c4c-94f3-e782156129dd"],

Cell[BoxData[
 RowBox[{"vdrNaSch", "[", 
  RowBox[{"70", ",", "20", ",", "5", ",", "0.15", ",", "0.1"}], "]"}]], "Code",\
ExpressionUUID->"9b7f6e23-5b2e-4532-8666-52c009a3b114"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"Modell", " ", "zwei", " ", "Fahrspuren"}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"twolanesNaSch", "[", 
    RowBox[{"nCells_", ",", "tMax_", ",", "vMax_", ",", "p_"}], "]"}], ":=", 
   RowBox[{"Module", "[", "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{
      "nCells", " ", "ist", " ", "L\[ADoubleDot]nge", " ", "beider", " ", 
       "Spuren"}], ",", " ", 
      RowBox[{
      "nCar", " ", "Anzahl", " ", "aller", " ", "Autos", " ", 
       "f\[UDoubleDot]r", " ", "das", " ", "Histogramm", " ", "von", " ", 
       "v"}]}], " ", "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{
       RowBox[{
       "F\[UDoubleDot]r", " ", "Fundamentalplots", " ", "eine", " ", 
        "nCells"}], "!=", 
       RowBox[{"0", "mod5", " ", "eingeben"}]}], ",", " ", 
      RowBox[{
       RowBox[{"f\[UDoubleDot]r", " ", "Histogramme", " ", "nCells"}], "=", 
       RowBox[{"0", "mod5"}]}]}], "*)"}], "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{"lokale", " ", "Variablen"}], "*)"}], "\n", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "xAutos", ",", "xAutos1", ",", "xAutos2", ",", "vAutos1", ",", 
       "vAutos2", ",", "dAutos1", ",", "dAutos2", ",", "viAutos", ",", 
       "viAutos1", ",", "viAutos2", ",", "vhisto", ",", "diAutos", ",", 
       "diAutos1", ",", "diAutos2", ",", "dhisto", ",", "nCar", ",", 
       "density", ",", "density1", ",", "density2", ",", "\n", "fluss", ",", 
       "addfluss", ",", "savefluss", ",", "savefluss1", ",", "savefluss2", 
       ",", "savexAutos1", ",", "savexAutos2", ",", "savevAutos1", ",", 
       "savevAutos2", ",", "m1", ",", "m2", ",", "l1", ",", "l2", ",", 
       "savem1", ",", "savem2", ",", "savel1", ",", "savel2", ",", "\n", 
       "wechselzu1", ",", "wechselzu2", ",", "wechselvon1", ",", 
       "wechselvon2", ",", "vMittel", ",", "dVar1", ",", "dVar2", ",", 
       "index1", ",", "index2", ",", "h", ",", "i", ",", "j", ",", "k", ",", 
       "o", ",", "r", ",", "s"}], "}"}], ",", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
        RowBox[{
        "Erzeugen", " ", "einelementige", " ", "Liste", " ", "mit", " ", 
         "Gesamtdichte", " ", "und", " ", "Fluss", " ", "f\[UDoubleDot]r", 
         " ", "nCar"}], "=", "0"}], ",", " ", 
       RowBox[{
       "f\[UDoubleDot]r", " ", "jedes", " ", "nCar", " ", "werden", " ", 
        "Werte", " ", "hinzugef\[UDoubleDot]gt"}]}], "*)"}], " ", "\n", 
     RowBox[{
      RowBox[{"density", "=", 
       RowBox[{"{", "0", "}"}]}], ";", "\n", 
      RowBox[{"fluss", "=", 
       RowBox[{"{", "0", "}"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"NaSch", "-", "Modell"}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"Schleife", " ", "f\[UDoubleDot]r", " ", "ansteigende", " ", 
        RowBox[{"Dichte", "/", "Anzahlen"}], " ", "an", " ", "Autos"}], 
       "*)"}], "\n", 
      RowBox[{"For", "[", 
       RowBox[{
        RowBox[{"nCar", "=", "1"}], ",", 
        RowBox[{"nCar", "<=", "nCells"}], ",", 
        RowBox[{"nCar", "++"}], ",", " ", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "Autos", " ", "haben", " ", "Position", " ", "x", " ", "und", " ", 
          "Geschwindigkeit", " ", "v", " ", "zum", " ", "vorderen", " ", 
          "Auto"}], "*)"}], "\n", 
        RowBox[{"(*", 
         RowBox[{
         "Erstellen", " ", "Liste", " ", "xAutos", " ", "mit", " ", 
          "doppelter", " ", "L\[ADoubleDot]nge", " ", "als", " ", 
          "Stra\[SZ]e"}], "*)"}], "\n", 
        RowBox[{
         RowBox[{"xAutos", "=", 
          RowBox[{"Sort", "[", 
           RowBox[{"RandomSample", "[", 
            RowBox[{
             RowBox[{"Range", "[", 
              RowBox[{"2", " ", "nCells"}], "]"}], ",", "nCar"}], "]"}], 
           "]"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"xAutos1", "=", 
            RowBox[{"Sort", "[", 
             RowBox[{"RandomSample", "[", 
              RowBox[{
               RowBox[{"Range", "[", "nCells", "]"}], ",", "nCar"}], "]"}], 
             "]"}]}], ";", "\n", 
           RowBox[{"xAutos2", "=", 
            RowBox[{"Sort", "[", 
             RowBox[{"RandomSample", "[", 
              RowBox[{
               RowBox[{"Range", "[", "nCells", "]"}], ",", "nCar"}], "]"}], 
             "]"}]}], ";"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "Aufteilen", " ", "Liste", " ", "in", " ", "zwei", " ", "Spuren"}],
            ",", " ", 
           RowBox[{"1", " ", "rechts"}], ",", " ", 
           RowBox[{"2", " ", "links"}]}], "*)"}], "\n", 
         RowBox[{"xAutos1", "=", 
          RowBox[{"Select", "[", 
           RowBox[{"xAutos", ",", 
            RowBox[{
             RowBox[{"#", "<=", "nCells"}], " ", "&"}]}], "]"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
          "Positionen", " ", "der", " ", "linken", " ", "Spur", " ", "setzen",
            " ", "in", " ", "Bereich", " ", "von", " ", "0", " ", "bis", " ", 
           "nCells"}], "*)"}], "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"UnsameQ", "[", 
            RowBox[{"xAutos1", ",", 
             RowBox[{"{", "}"}]}], "]"}], ",", 
           RowBox[{"xAutos2", "=", 
            RowBox[{"Drop", "[", 
             RowBox[{
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"xAutos", "[", 
                  RowBox[{"[", "n", "]"}], "]"}], "-", "nCells"}], ",", 
                RowBox[{"{", 
                 RowBox[{"n", ",", "nCar"}], "}"}]}], "]"}], ",", 
              RowBox[{"Length", "[", "xAutos1", "]"}]}], "]"}]}], ",", 
           RowBox[{"xAutos2", "=", "xAutos"}]}], "]"}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
          "Geschwindigkeiten", " ", "f\[UDoubleDot]r", " ", "alle", " ", 
           "Autos", " ", "getrennt", " ", "auf", " ", "den", " ", "Spuren"}], 
          "*)"}], "\n", 
         RowBox[{"vAutos1", "=", 
          RowBox[{"RandomInteger", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "vMax"}], "}"}], ",", 
            RowBox[{"Length", "[", "xAutos1", "]"}]}], "]"}]}], ";", "\n", 
         RowBox[{"vAutos2", "=", 
          RowBox[{"RandomInteger", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "vMax"}], "}"}], ",", 
            RowBox[{"Length", "[", "xAutos2", "]"}]}], "]"}]}], ";", "\n", 
         "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "Listen", " ", "zum", " ", "Speichern", " ", "von", " ", "der", 
            " ", "mittleren", " ", "v"}], ",", " ", 
           RowBox[{
           "der", " ", "Varianz", " ", "von", " ", "d", " ", "und", " ", 
            "der", " ", "Dichte", " ", "der", " ", "jeweiligen", " ", "Spur", 
            " ", "\[UDoubleDot]ber", " ", "t"}]}], "*)"}], "\n", 
         RowBox[{"vMittel", "=", 
          RowBox[{"Table", "[", 
           RowBox[{"Nothing", ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", 
         RowBox[{"dVar1", "=", 
          RowBox[{"Table", "[", 
           RowBox[{"Nothing", ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", 
         RowBox[{"dVar2", "=", 
          RowBox[{"Table", "[", 
           RowBox[{"Nothing", ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", 
         RowBox[{"density1", "=", 
          RowBox[{"Table", "[", 
           RowBox[{"Nothing", ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", 
         RowBox[{"density2", "=", 
          RowBox[{"Table", "[", 
           RowBox[{"Nothing", ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
          "Liste", " ", "zum", " ", "Speichern", " ", "von", " ", "xAutos", 
           " ", "aus", " ", "dem", " ", "vorherigen", " ", "Zeitschritt"}], 
          "*)"}], "\n", 
         RowBox[{"savexAutos1", "=", "xAutos1"}], ";", "\n", 
         RowBox[{"savexAutos2", "=", "xAutos2"}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "Index", " ", "zum", " ", 
            "\[CapitalUDoubleDot]berpr\[UDoubleDot]fen", " ", "der", " ", 
            "Positionen"}], ",", " ", 
           RowBox[{
           "startet", " ", "von", " ", "der", " ", 
            "\[UDoubleDot]berpr\[UDoubleDot]ften", " ", "Zelle", " ", 
            "nCells"}]}], "*)"}], 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "addfluss", " ", "als", " ", "Durchfluss", " ", "von", " ", 
            "Position", " ", "nCells", " ", "zu", " ", "1", " ", 
            "aufsummiert"}], ",", " ", 
           RowBox[{
           "savefluss", " ", "f\[UDoubleDot]r", " ", "jeden", " ", 
            "Zeitschritt"}]}], "*)"}], "\n", 
         RowBox[{"addfluss", "=", "0"}], ";", "\n", 
         RowBox[{"m1", "=", 
          RowBox[{"Length", "[", "xAutos1", "]"}]}], ";", "\n", 
         RowBox[{"m2", "=", 
          RowBox[{"Length", "[", "xAutos2", "]"}]}], ";", "\n", 
         RowBox[{"savem1", "=", "m1"}], ";", "\n", 
         RowBox[{"savem2", "=", "m2"}], ";", "\n", "\n", 
         RowBox[{"savefluss1", "=", 
          RowBox[{"Table", "[", 
           RowBox[{"Nothing", ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", 
         RowBox[{"savefluss2", "=", 
          RowBox[{"Table", "[", 
           RowBox[{"Nothing", ",", 
            RowBox[{"{", 
             RowBox[{"n", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", 
         RowBox[{"l1", "=", 
          RowBox[{"Length", "[", "xAutos1", "]"}]}], ";", "\n", 
         RowBox[{"l2", "=", 
          RowBox[{"Length", "[", "xAutos2", "]"}]}], ";", "\n", 
         RowBox[{"savel1", "=", "l1"}], ";", "\n", 
         RowBox[{"savel2", "=", "l2"}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"Verkehrsregeln", " ", "aus", " ", "NaSch"}], "-", 
           RowBox[{"Modell", " ", "implementieren"}]}], "*)"}], "\n", 
         RowBox[{"For", "[", 
          RowBox[{
           RowBox[{"i", "=", "0"}], ",", 
           RowBox[{"i", "<=", "tMax"}], ",", 
           RowBox[{"i", "++"}], ",", " ", "\n", "  ", 
           RowBox[{"(*", 
            RowBox[{
            "Freie", " ", "Zellen", " ", "d", " ", "vor", " ", "dem", " ", 
             "Auto", " ", "bis", " ", "zum", " ", "vorderen"}], "*)"}], "\n", 
           "  ", 
           RowBox[{"(*", 
            RowBox[{"Rechte", " ", "Spur"}], "*)"}], "\n", "  ", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos1", "]"}], ">", "1"}], ",", "\n",
               "  ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"dAutos1", "=", 
                 RowBox[{"Table", "[", 
                  RowBox[{
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "<", 
                    RowBox[{"Max", "[", "xAutos1", "]"}]}], ",", 
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", 
                    RowBox[{"n", "+", "1"}], "]"}], "]"}], "-", 
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", 
                    RowBox[{"nCells", "-", 
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"Min", "[", "xAutos1", "]"}], "-", "1"}]}], "]"}],
                    ",", 
                   RowBox[{"{", 
                    RowBox[{"n", ",", 
                    RowBox[{
                    RowBox[{"Length", "[", "xAutos1", "]"}], "-", "1"}]}], 
                    "}"}]}], "]"}]}], ";", "\n", "  ", 
                RowBox[{"AppendTo", "[", 
                 RowBox[{"dAutos1", ",", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos1", "]"}], "]"}], "]"}], 
                    "<", 
                    RowBox[{"Max", "[", "xAutos1", "]"}]}], ",", 
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", 
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos1", "]"}], "]"}], "]"}], 
                    "-", "1"}], ",", 
                    RowBox[{"nCells", "-", 
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos1", "]"}], "]"}], "]"}], 
                    "+", 
                    RowBox[{"Min", "[", "xAutos1", "]"}], "-", "1"}]}], 
                   "]"}]}], "]"}], ";"}], ")"}], ",", "\n", "  ", 
              RowBox[{
               RowBox[{"dAutos1", "=", 
                RowBox[{"{", 
                 RowBox[{"nCells", "-", "1"}], "}"}]}], ";"}]}], "\n", "  ", 
             "]"}], ";", " ", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Linke", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos2", "]"}], ">", "1"}], ",", "\n",
               "  ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"dAutos2", "=", 
                 RowBox[{"Table", "[", 
                  RowBox[{
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "<", 
                    RowBox[{"Max", "[", "xAutos2", "]"}]}], ",", 
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", 
                    RowBox[{"n", "+", "1"}], "]"}], "]"}], "-", 
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", 
                    RowBox[{"nCells", "-", 
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"Min", "[", "xAutos2", "]"}], "-", "1"}]}], "]"}],
                    ",", 
                   RowBox[{"{", 
                    RowBox[{"n", ",", 
                    RowBox[{
                    RowBox[{"Length", "[", "xAutos2", "]"}], "-", "1"}]}], 
                    "}"}]}], "]"}]}], ";", " ", "\n", "  ", 
                RowBox[{"AppendTo", "[", 
                 RowBox[{"dAutos2", ",", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos2", "]"}], "]"}], "]"}], 
                    "<", 
                    RowBox[{"Max", "[", "xAutos2", "]"}]}], ",", 
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", 
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos2", "]"}], "]"}], "]"}], 
                    "-", "1"}], ",", 
                    RowBox[{"nCells", "-", 
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos2", "]"}], "]"}], "]"}], 
                    "+", 
                    RowBox[{"Min", "[", "xAutos2", "]"}], "-", "1"}]}], 
                   "]"}]}], "]"}], ";"}], ")"}], ",", "\n", "  ", 
              RowBox[{
               RowBox[{"dAutos2", "=", 
                RowBox[{"{", 
                 RowBox[{"nCells", "-", "1"}], "}"}]}], ";"}]}], "\n", "  ", 
             "]"}], ";", "\n", "  ", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"R1", ":", " ", "Beschleunigen"}], ",", " ", 
              RowBox[{
              "falls", " ", "vMax", " ", "noch", " ", "nicht", " ", 
               "erreicht"}]}], "*)"}], "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Rechte", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos1", "]"}], ">", "0"}], ",", "\n",
               "  ", 
              RowBox[{
               RowBox[{"vAutos1", "=", 
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"Min", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"vAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", "1"}], ",", "vMax"}],
                    "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos1", "]"}]}], "}"}]}], 
                 "]"}]}], ";"}]}], "\n", "  ", "]"}], ";", "\n", "  ", 
            RowBox[{"savevAutos1", "=", "vAutos1"}], ";", "\n", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Linke", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos2", "]"}], ">", "0"}], ",", "\n",
               "  ", 
              RowBox[{
               RowBox[{"vAutos2", "=", 
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"Min", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"vAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", "1"}], ",", "vMax"}],
                    "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos2", "]"}]}], "}"}]}], 
                 "]"}]}], ";"}]}], "\n", "  ", "]"}], ";", "\n", "  ", 
            RowBox[{"savevAutos2", "=", "vAutos2"}], ";", "\n", "  ", "\n", 
            "  ", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"R2", ":", " ", "Spurwechsel"}], ",", " ", 
              RowBox[{
               RowBox[{
               "falls", " ", "v", " ", "gr\[ODoubleDot]\[SZ]er", " ", "als", 
                " ", "Abstand", " ", "d", " ", "und", " ", "links", " ", 
                "frei"}], " ", "->", " ", 
               RowBox[{
               "bei", " ", "Wechsel", " ", "zun\[ADoubleDot]chst", " ", 
                "Spurwechsel"}]}], ",", " ", 
              RowBox[{
               RowBox[{
               "dann", " ", "weiter", " ", "fahren", " ", "mit", " ", "v"}], 
               "-", 
               RowBox[{"1", " ", "in", " ", "R3"}], "-", "R5"}]}], "*)"}], 
            "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{
             "Wechsel", " ", "rechte", " ", "Spur", " ", "zu", " ", 
              "linker"}], "*)"}], "\n", "  ", 
            RowBox[{"wechselzu2", "=", 
             RowBox[{"{", "}"}]}], ";", "\n", "  ", 
            RowBox[{"wechselvon1", "=", 
             RowBox[{"{", "}"}]}], ";", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{
             "Falls", " ", "Auto", " ", "auf", " ", "rechter", " ", "Spur"}], 
             "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "savexAutos1", "]"}], ">", "0"}], ",", 
              "\n", "  ", 
              RowBox[{
               RowBox[{"k", "=", "1"}], ";", "\n", "  ", 
               RowBox[{"Do", "[", "\n", "  ", 
                RowBox[{"(*", 
                 RowBox[{
                  RowBox[{
                  "Falls", " ", "v", " ", "gr\[ODoubleDot]\[SZ]er", " ", "d", 
                   " ", "und", " ", "Nachbarzelle", " ", "links", " ", 
                   "frei"}], ",", " ", 
                  RowBox[{
                  "\[CapitalUDoubleDot]berpr\[UDoubleDot]fen", " ", 
                   "Spurwechsel"}]}], "*)"}], "\n", "  ", 
                RowBox[{
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"savevAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], ">", 
                    RowBox[{"dAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}]}], " ", "&&", " ", 
                    RowBox[{
                    RowBox[{"Select", "[", 
                    RowBox[{"savexAutos2", ",", 
                    RowBox[{
                    RowBox[{"#", "==", 
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}]}], " ", "&"}]}], "]"}], "==", 
                    RowBox[{"{", "}"}]}]}], ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Falls", " ", "Auto", " ", "mit", " ", "kleinerer", " ", 
                    "Position", " ", "existiert"}], "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"UnsameQ", "[", 
                    RowBox[{
                    RowBox[{"Select", "[", 
                    RowBox[{"savexAutos2", ",", 
                    RowBox[{
                    RowBox[{"#", "<", 
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}]}], " ", "&"}]}], "]"}], 
                    ",", 
                    RowBox[{"{", "}"}]}], "]"}], ",", " ", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{"betrachteter", " ", 
                    RowBox[{"Index", ":", " ", 
                    RowBox[{
                    "Auto", " ", "mit", " ", "n\[ADoubleDot]chstkleinerer", 
                    " ", "Position", " ", "auf", " ", "linker", " ", 
                    "Spur"}]}]}], "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"index2", "=", 
                    RowBox[{"Flatten", "[", 
                    RowBox[{"Position", "[", 
                    RowBox[{"savexAutos2", ",", 
                    RowBox[{"Max", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"savexAutos2", ",", 
                    RowBox[{
                    RowBox[{"#", "<", 
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}]}], " ", "&"}]}], "]"}], 
                    "]"}]}], "]"}], "]"}]}], ";", " ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Position", " ", "gibt", " ", "hier", " ", "Liste", " ", 
                    "in", " ", "Form", " ", "von", " ", 
                    RowBox[{"{", 
                    RowBox[{"{", "x", "}"}], "}"}], " ", "aus"}], "*)"}], 
                    "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "Falls", " ", "Spurwechsel", " ", "ohne", " ", 
                    "Auffahrunfall", " ", "von", " ", "hinten", " ", "und", 
                    " ", "Weiterfahren", " ", "mit", " ", "v"}], "-", 
                    RowBox[{
                    "1", " ", "ohne", " ", "Anfahren", " ", "des", " ", 
                    "vorderen", " ", "Autos", " ", "m\[ODoubleDot]glich"}]}], 
                    "*)"}], "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "index2", "]"}], "]"}], "+", 
                    RowBox[{"savevAutos2", "[", 
                    RowBox[{"[", "index2", "]"}], "]"}]}], "<", 
                    RowBox[{
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], "+", 
                    RowBox[{"savevAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], "-", "1"}], "<", 
                    RowBox[{
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "index2", "]"}], "]"}], "+", 
                    RowBox[{"dAutos2", "[", 
                    RowBox[{"[", "index2", "]"}], "]"}], "+", "1"}]}], ",", 
                    "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "Auto", " ", "von", " ", "rechter", " ", "Spur", " ", 
                    "auf", " ", "Nachbarzelle"}], ",", " ", 
                    RowBox[{
                    RowBox[{"v", " ", "auf", " ", "v"}], "-", 
                    RowBox[{"1", " ", "setzen"}]}], ",", " ", 
                    RowBox[{
                    "Indizes", " ", "f\[UDoubleDot]r", " ", "Flussberechnung",
                     " ", "anpassen"}]}], "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Verschiebung", " ", "r", " ", "durch", " ", 
                    "hinzugef\[UDoubleDot]gte", " ", "Autos", " ", "zu", " ", 
                    "xAutos2"}], "*)"}], "\n", "  ", 
                    RowBox[{
                    RowBox[{"r", "=", 
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselzu2", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", 
                    RowBox[{"index2", "+", "1"}]}], " ", "&"}]}], "]"}], 
                    "]"}]}], ";", "\n", "  ", 
                    RowBox[{"Insert", "[", 
                    RowBox[{"xAutos2", ",", 
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], ",", 
                    RowBox[{"index2", "+", "1", "+", "r"}]}], "]"}], ";", 
                    "\n", "  ", 
                    RowBox[{"Insert", "[", 
                    RowBox[{"vAutos2", ",", 
                    RowBox[{
                    RowBox[{"savevAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], "-", "1"}], ",", 
                    RowBox[{"index2", "+", "1", "+", "r"}]}], "]"}], ";", 
                    "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"index2", "+", "1", "+", "r"}], "<=", "m2"}], ",", 
                    RowBox[{"m2", "=", 
                    RowBox[{"m2", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"index2", "+", "1", "+", "r"}], "<=", "l2"}], ",", 
                    RowBox[{"l2", "=", 
                    RowBox[{"l2", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Positionen", " ", "hinzugef\[UDoubleDot]gter", " ", 
                    "Elemente", " ", "in", " ", "xAutos2", " ", "und", " ", 
                    "vAutos2"}], "*)"}], "\n", "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselzu2", ",", 
                    RowBox[{"index2", "+", "1"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Verschiebung", " ", "s", " ", "durch", " ", "entfernte", 
                    " ", "Autos", " ", "aus", " ", "xAutos1"}], "*)"}], "\n", 
                    "  ", 
                    RowBox[{"s", "=", 
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselvon1", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", "k"}], " ", "&"}]}], "]"}], "]"}]}], 
                    ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"xAutos1", ",", 
                    RowBox[{"k", "-", "s"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"vAutos1", ",", 
                    RowBox[{"k", "-", "s"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"k", "-", "s"}], "<=", "m1"}], ",", 
                    RowBox[{"m1", "=", 
                    RowBox[{"m1", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"k", "-", "s"}], "<=", "l1"}], ",", 
                    RowBox[{"l1", "=", 
                    RowBox[{"l1", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Positionen", " ", "herausgenommener", " ", "Elemente", 
                    " ", "aus", " ", "xAutos1", " ", "und", " ", "vAutos1"}], 
                    "*)"}], "\n", "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselvon1", ",", "k"}], "]"}], ";"}], ")"}], 
                    ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "Ohne", " ", "n\[ODoubleDot]tige", " ", 
                    "L\[UDoubleDot]cke", " ", "links", " ", "kein", " ", 
                    "Wechsel"}], ",", " ", 
                    RowBox[{
                    "Betrachten", " ", "n\[ADoubleDot]chstes", " ", 
                    "Auto"}]}], "*)"}], "\n", "  ", 
                    RowBox[{
                    RowBox[{"k", "=", 
                    RowBox[{"k", "+", "1"}]}], ";"}]}], "\n", "  ", "]"}], 
                    ";"}], ")"}], ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{"Auto", " ", 
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], " ", "ist", " ", "Auto", 
                    " ", "mit", " ", "kleinster", " ", "Position"}], ",", " ", 
                    RowBox[{
                    "\[CapitalUDoubleDot]berpr\[UDoubleDot]fen", " ", 
                    "anderes", " ", "Ende"}], ",", " ", 
                    RowBox[{"da", " ", "Ringstra\[SZ]e"}]}], "*)"}], "\n", 
                    "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Falls", " ", "linke", " ", "Spur", " ", "nicht", " ", 
                    "leer"}], "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Length", "[", "savexAutos2", "]"}], ">", "0"}], 
                    ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{"betrachteter", " ", 
                    RowBox[{"Index", ":", " ", 
                    RowBox[{
                    "Auto", " ", "mit", " ", "gr\[ODoubleDot]\[SZ]ter", " ", 
                    "Position"}]}]}], ",", " ", 
                    RowBox[{
                    "also", " ", "erstes", " ", "am", " ", "anderen", " ", 
                    "Ende"}]}], "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"index2", "=", 
                    RowBox[{"Flatten", "[", 
                    RowBox[{"Position", "[", 
                    RowBox[{"savexAutos2", ",", 
                    RowBox[{"Max", "[", "savexAutos2", "]"}]}], "]"}], 
                    "]"}]}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "Falls", " ", "Spurwechsel", " ", "ohne", " ", 
                    "Auffahrunfall", " ", "von", " ", "hinten", " ", "und", 
                    " ", "Weiterfahren", " ", "mit", " ", "v"}], "-", 
                    RowBox[{
                    "1", " ", "ohne", " ", "Anfahren", " ", "des", " ", 
                    "vorderen", " ", "Autos", " ", "m\[ODoubleDot]glich"}]}], 
                    "*)"}], "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "index2", "]"}], "]"}], "+", 
                    RowBox[{"savevAutos2", "[", 
                    RowBox[{"[", "index2", "]"}], "]"}], "-", "nCells"}], "<", 
                    RowBox[{
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], "+", 
                    RowBox[{"savevAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], "-", "1"}], "<", 
                    RowBox[{
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "index2", "]"}], "]"}], "+", 
                    RowBox[{"dAutos2", "[", 
                    RowBox[{"[", "index2", "]"}], "]"}], "+", "1", "-", 
                    "nCells"}]}], ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "Auto", " ", "von", " ", "rechter", " ", "Spur", " ", 
                    "auf", " ", "Nachbarzelle"}], ",", " ", 
                    RowBox[{
                    RowBox[{"v", " ", "auf", " ", "v"}], "-", 
                    RowBox[{"1", " ", "setzen"}]}], ",", " ", 
                    RowBox[{
                    "Indizes", " ", "f\[UDoubleDot]r", " ", "Flussberechnung",
                     " ", "anpassen"}]}], "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Verschiebung", " ", "r", " ", "durch", " ", 
                    "hinzugef\[UDoubleDot]gte", " ", "Autos", " ", "zu", " ", 
                    "xAutos2"}], "*)"}], "\n", "  ", 
                    RowBox[{
                    RowBox[{"r", "=", 
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselzu2", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", 
                    RowBox[{"index2", "+", "1"}]}], " ", "&"}]}], "]"}], 
                    "]"}]}], ";", "\n", "  ", 
                    RowBox[{"Insert", "[", 
                    RowBox[{"xAutos2", ",", 
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], ",", 
                    RowBox[{"index2", "+", "1", "+", "r"}]}], "]"}], ";", 
                    "\n", "  ", 
                    RowBox[{"Insert", "[", 
                    RowBox[{"vAutos2", ",", 
                    RowBox[{
                    RowBox[{"savevAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], "-", "1"}], ",", 
                    RowBox[{"index2", "+", "1", "+", "r"}]}], "]"}], ";", 
                    "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"index2", "+", "1", "+", "r"}], "<=", "m2"}], ",", 
                    RowBox[{"m2", "=", 
                    RowBox[{"m2", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"index2", "+", "1", "+", "r"}], "<=", "l2"}], ",", 
                    RowBox[{"l2", "=", 
                    RowBox[{"l2", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Positionen", " ", "hinzugef\[UDoubleDot]gter", " ", 
                    "Elemente", " ", "in", " ", "xAutos2", " ", "und", " ", 
                    "vAutos2"}], "*)"}], "\n", "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselzu2", ",", 
                    RowBox[{"index2", "+", "1"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Verschiebung", " ", "s", " ", "durch", " ", "entfernte", 
                    " ", "Autos", " ", "aus", " ", "xAutos1"}], "*)"}], "\n", 
                    "  ", 
                    RowBox[{"s", "=", 
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselvon1", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", "k"}], " ", "&"}]}], "]"}], "]"}]}], 
                    ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"xAutos1", ",", 
                    RowBox[{"k", "-", "s"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"vAutos1", ",", 
                    RowBox[{"k", "-", "s"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"k", "-", "s"}], "<=", "m1"}], ",", 
                    RowBox[{"m1", "=", 
                    RowBox[{"m1", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"k", "-", "s"}], "<=", "l1"}], ",", 
                    RowBox[{"l1", "=", 
                    RowBox[{"l1", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "Positionen", " ", "k", " ", "entfernter", " ", 
                    "Elemente", " ", "aus", " ", "xAutos1", " ", "und", " ", 
                    "vAutos1"}], ",", " ", 
                    RowBox[{
                    "verwendet", " ", "zum", " ", "Vergleich", " ", "mit", 
                    " ", "savexAutos1", " ", "und", " ", "savevAutos1"}], ",",
                     "\n", "  ", 
                    RowBox[{"deshalb", " ", "nur", " ", "k"}]}], "*)"}], "\n",
                     "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselvon1", ",", "k"}], "]"}], ";"}], ")"}], 
                    ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{"Kein", " ", "Platz"}], ",", " ", 
                    RowBox[{
                    "Betrachten", " ", "n\[ADoubleDot]chstes", " ", 
                    "Auto"}]}], "*)"}], "\n", "  ", 
                    RowBox[{
                    RowBox[{"k", "=", 
                    RowBox[{"k", "+", "1"}]}], ";"}]}], "\n", "  ", "]"}], 
                    ";"}], ")"}], ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{"Falls", " ", "linke", " ", "Spur", " ", 
                    RowBox[{"leer", ":", " ", "Spurwechsel"}]}], ",", " ", 
                    RowBox[{"Anpassung", " ", "v"}], ",", " ", 
                    RowBox[{
                    "Indizes", " ", "f\[UDoubleDot]r", " ", "Fluss"}]}], 
                    "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Insert", "[", 
                    RowBox[{"xAutos2", ",", 
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], ",", "1"}], "]"}], ";", 
                    "\n", "  ", 
                    RowBox[{"Insert", "[", 
                    RowBox[{"vAutos2", ",", 
                    RowBox[{
                    RowBox[{"savevAutos1", "[", 
                    RowBox[{"[", "k", "]"}], "]"}], "-", "1"}], ",", "1"}], 
                    "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"1", "<=", "m2"}], ",", 
                    RowBox[{"m2", "=", 
                    RowBox[{"m2", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"1", "<=", "l2"}], ",", 
                    RowBox[{"l2", "=", 
                    RowBox[{"l2", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Positionen", " ", "hinzugef\[UDoubleDot]gter", " ", 
                    "Elemente", " ", "in", " ", "xAutos2", " ", "und", " ", 
                    "vAutos2"}], "*)"}], "\n", "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselzu2", ",", "1"}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Verschiebung", " ", "s", " ", "durch", " ", "entfernte", 
                    " ", "Autos", " ", "aus", " ", "xAutos1"}], "*)"}], "\n", 
                    "  ", 
                    RowBox[{"s", "=", 
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselvon1", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", "k"}], " ", "&"}]}], "]"}], "]"}]}], 
                    ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"xAutos1", ",", 
                    RowBox[{"k", "-", "s"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"vAutos1", ",", 
                    RowBox[{"k", "-", "s"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"k", "-", "s"}], "<=", "m1"}], ",", 
                    RowBox[{"m1", "=", 
                    RowBox[{"m1", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"k", "-", "s"}], "<=", "l1"}], ",", 
                    RowBox[{"l1", "=", 
                    RowBox[{"l1", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Positionen", " ", "entfernter", " ", "Elemente", " ", 
                    "aus", " ", "xAutos1", " ", "und", " ", "vAutos1"}], 
                    "*)"}], "\n", "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselvon1", ",", "k"}], "]"}], ";"}], ")"}]}], 
                    "\n", "  ", "]"}], ";"}], ")"}]}], "\n", "  ", "]"}], 
                    ";"}], ")"}], ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "v", " ", "nicht", " ", "gr\[ODoubleDot]\[SZ]er", " ", 
                    "d"}], ",", " ", 
                    RowBox[{
                    "Betrachten", " ", "n\[ADoubleDot]chstes", " ", 
                    "Auto"}]}], "*)"}], "\n", "  ", 
                    RowBox[{
                    RowBox[{"k", "=", 
                    RowBox[{"k", "+", "1"}]}], ";"}]}], "\n", "  ", "]"}], 
                  ";"}], ",", 
                 RowBox[{"Length", "[", "savexAutos1", "]"}]}], "]"}], 
               ";"}]}], "\n", "  ", "]"}], ";", "\n", " ", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{
             "Wechsel", " ", "linke", " ", "Spur", " ", "zu", " ", 
              "rechter"}], "*)"}], " ", "\n", "  ", 
            RowBox[{"wechselvon2", "=", 
             RowBox[{"{", "}"}]}], ";", "\n", "  ", 
            RowBox[{"wechselzu1", "=", 
             RowBox[{"{", "}"}]}], ";", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{
             "Falls", " ", "Auto", " ", "auf", " ", "linker", " ", "Spur"}], 
             "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "savexAutos2", "]"}], ">", "0"}], ",", 
              "\n", "  ", 
              RowBox[{
               RowBox[{"h", "=", "1"}], ";", "\n", "  ", 
               RowBox[{"Do", "[", "\n", "  ", 
                RowBox[{"(*", 
                 RowBox[{
                 "Falls", " ", "rechte", " ", "Nachbarzelle", " ", "leer"}], 
                 "*)"}], "\n", "  ", 
                RowBox[{
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"Select", "[", 
                    RowBox[{"savexAutos1", ",", 
                    RowBox[{
                    RowBox[{"#", "==", 
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}]}], " ", "&"}]}], "]"}], "==", 
                    RowBox[{"{", "}"}]}], ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Falls", " ", "Auto", " ", "mit", " ", "kleinerer", " ", 
                    "Position", " ", "existiert"}], "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"UnsameQ", "[", 
                    RowBox[{
                    RowBox[{"Select", "[", 
                    RowBox[{"savexAutos1", ",", 
                    RowBox[{
                    RowBox[{"#", "<", 
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}]}], " ", "&"}]}], "]"}], 
                    ",", 
                    RowBox[{"{", "}"}]}], "]"}], ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{"Betrachteter", " ", 
                    RowBox[{"Index", ":", " ", 
                    RowBox[{
                    "n\[ADoubleDot]chstes", " ", "Auto", " ", "mit", " ", 
                    "kleinerer", " ", "Position"}]}]}], "*)"}], "\n", "  ", 
                    RowBox[{
                    RowBox[{"index1", "=", 
                    RowBox[{"Flatten", "[", 
                    RowBox[{"Position", "[", 
                    RowBox[{"Max", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"savexAutos1", ",", 
                    RowBox[{
                    RowBox[{"#", "<", 
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}]}], " ", "&"}]}], "]"}], 
                    "]"}], "]"}], "]"}]}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "Falls", " ", "Spurwechsel", " ", "ohne", " ", 
                    "Auffahrunfall", " ", "von", " ", "hinten", " ", "und", 
                    " ", "Weiterfahren", " ", "mit", " ", "v"}], "-", 
                    RowBox[{
                    "1", " ", "ohne", " ", "Anfahren", " ", "des", " ", 
                    "vorderen", " ", "Autos", " ", "m\[ODoubleDot]glich"}]}], 
                    "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "index1", "]"}], "]"}], "+", 
                    RowBox[{"savevAutos1", "[", 
                    RowBox[{"[", "index1", "]"}], "]"}]}], "<", 
                    RowBox[{
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}], "+", 
                    RowBox[{"savevAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}], "-", "1"}], "<", 
                    RowBox[{
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "index1", "]"}], "]"}], "+", 
                    RowBox[{"dAutos1", "[", 
                    RowBox[{"[", "index1", "]"}], "]"}], "+", "1"}]}], ",", 
                    "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Verschiebung", " ", "o", " ", "von", " ", "index1", " ", 
                    "durch", " ", "hinzugef\[UDoubleDot]gte", " ", "Autos", 
                    " ", "zu", " ", "xAutos1", " ", "minus", " ", "entfernte",
                     " ", "Autos", " ", "aus", " ", "xAutos1"}], "*)"}], "\n",
                     "  ", 
                    RowBox[{
                    RowBox[{"o", "=", 
                    RowBox[{
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselzu1", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", 
                    RowBox[{"index1", "+", "1"}]}], " ", "&"}]}], "]"}], 
                    "]"}], "-", 
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselvon1", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", 
                    RowBox[{"index1", "+", "1"}]}], " ", "&"}]}], "]"}], 
                    "]"}]}]}], ";", "\n", "  ", 
                    RowBox[{"Insert", "[", 
                    RowBox[{"xAutos1", ",", 
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}], ",", 
                    RowBox[{"index1", "+", "1", "+", "o"}]}], "]"}], ";", 
                    "\n", "  ", 
                    RowBox[{"Insert", "[", 
                    RowBox[{"vAutos1", ",", 
                    RowBox[{
                    RowBox[{"savevAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}], "-", "1"}], ",", 
                    RowBox[{"index1", "+", "1", "+", "o"}]}], "]"}], ";", 
                    "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"index1", "+", "1", "+", "o"}], "<=", "m1"}], ",", 
                    RowBox[{"m1", "=", 
                    RowBox[{"m1", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"index1", "+", "1", "+", "o"}], "<=", "l1"}], ",", 
                    RowBox[{"l1", "=", 
                    RowBox[{"l1", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Positionen", " ", "hinzugef\[UDoubleDot]gter", " ", 
                    "Elemente", " ", "in", " ", "xAutos1", " ", "und", " ", 
                    "vAutos1"}], "*)"}], "\n", "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselzu1", ",", 
                    RowBox[{"index1", "+", "1"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Verschiebung", " ", "j", " ", "von", " ", "h", " ", 
                    "durch", " ", "hinzugef\[UDoubleDot]gte", " ", "Autos", 
                    " ", "zu", " ", "xAutos2", " ", "minus", " ", "entfernte",
                     " ", "Autos", " ", "aus", " ", "xAutos2"}], "*)"}], "\n",
                     "  ", 
                    RowBox[{"j", "=", 
                    RowBox[{
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselzu2", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", "h"}], " ", "&"}]}], "]"}], "]"}], "-", 
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselvon2", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", "h"}], " ", "&"}]}], "]"}], "]"}]}]}], 
                    ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"xAutos2", ",", 
                    RowBox[{"h", "+", "j"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"vAutos2", ",", 
                    RowBox[{"h", "+", "j"}]}], "]"}], ";", " ", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"h", "+", "j"}], "<=", "m2"}], ",", 
                    RowBox[{"m2", "=", 
                    RowBox[{"m2", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"h", "+", "j"}], "<=", "l2"}], ",", 
                    RowBox[{"l2", "=", 
                    RowBox[{"l2", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselvon2", ",", "h"}], "]"}], ";"}], ")"}], 
                    ",", "\n", "  ", 
                    RowBox[{
                    RowBox[{"h", "=", 
                    RowBox[{"h", "+", "1"}]}], ";"}]}], "\n", "  ", "]"}], 
                    ";"}], ")"}]}], ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{"Auto", " ", 
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "h", "]"}], "]"}], " ", "ist", " ", "Auto", 
                    " ", "mit", " ", "kleinster", " ", "Position"}], ",", " ", 
                    RowBox[{
                    "\[CapitalUDoubleDot]berpr\[UDoubleDot]fen", " ", 
                    "anderes", " ", "Ende"}]}], "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Falls", " ", "rechte", " ", "Spur", " ", "nicht", " ", 
                    "leer"}], "*)"}], "\n", "  ", 
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Length", "[", "savexAutos1", "]"}], ">", "0"}], 
                    ",", "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{"Betrachteter", " ", 
                    RowBox[{"Index", ":", " ", 
                    RowBox[{
                    "Auto", " ", "mit", " ", "h\[ODoubleDot]chster", " ", 
                    "Position"}]}]}], ",", " ", 
                    RowBox[{"also", " ", "anderes", " ", "Ende"}]}], "*)"}], 
                    "\n", "  ", 
                    RowBox[{
                    RowBox[{"index1", "=", 
                    RowBox[{"Flatten", "[", 
                    RowBox[{"Position", "[", 
                    RowBox[{"savexAutos1", ",", 
                    RowBox[{"Max", "[", "savexAutos1", "]"}]}], "]"}], 
                    "]"}]}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "Falls", " ", "Spurwechsel", " ", "ohne", " ", 
                    "Auffahrunfall", " ", "von", " ", "hinten", " ", "und", 
                    " ", "Weiterfahren", " ", "mit", " ", "v"}], "-", 
                    RowBox[{
                    "1", " ", "ohne", " ", "Anfahren", " ", "des", " ", 
                    "vorderen", " ", "Autos", " ", "m\[ODoubleDot]glich"}]}], 
                    "*)"}], "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "index1", "]"}], "]"}], "+", 
                    RowBox[{"savevAutos1", "[", 
                    RowBox[{"[", "index1", "]"}], "]"}], "-", "nCells"}], "<", 
                    RowBox[{
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}], "+", 
                    RowBox[{"savevAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}], "-", "1"}], "<", 
                    RowBox[{
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "index1", "]"}], "]"}], "+", 
                    RowBox[{"dAutos1", "[", 
                    RowBox[{"[", "index1", "]"}], "]"}], "+", "1", "-", 
                    "nCells"}]}], ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "Auto", " ", "von", " ", "rechter", " ", "Spur", " ", 
                    "auf", " ", "Nachbarzelle"}], ",", " ", 
                    RowBox[{
                    RowBox[{"v", " ", "auf", " ", "v"}], "-", 
                    RowBox[{"1", " ", "setzen"}]}], ",", " ", 
                    RowBox[{
                    "Indizes", " ", "f\[UDoubleDot]r", " ", "Flussberechnung",
                     " ", "anpassen"}]}], "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Verschiebung", " ", "o", " ", "von", " ", "index1", " ", 
                    "durch", " ", "hinzugef\[UDoubleDot]gte", " ", "Autos", 
                    " ", "zu", " ", "xAutos1", " ", "minus", " ", "entfernte",
                     " ", "Autos", " ", "aus", " ", "xAutos1"}], "*)"}], "\n",
                     "  ", 
                    RowBox[{
                    RowBox[{"o", "=", 
                    RowBox[{
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselzu1", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", 
                    RowBox[{"index1", "+", "1"}]}], " ", "&"}]}], "]"}], 
                    "]"}], "-", 
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselvon1", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", 
                    RowBox[{"index1", "+", "1"}]}], " ", "&"}]}], "]"}], 
                    "]"}]}]}], ";", "\n", "  ", 
                    RowBox[{"Insert", "[", 
                    RowBox[{"xAutos1", ",", 
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}], ",", 
                    RowBox[{"index1", "+", "1", "+", "o"}]}], "]"}], ";", 
                    "\n", "  ", 
                    RowBox[{"Insert", "[", 
                    RowBox[{"vAutos1", ",", 
                    RowBox[{
                    RowBox[{"savevAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}], "-", "1"}], ",", 
                    RowBox[{"index1", "+", "1", "+", "o"}]}], "]"}], ";", 
                    "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"index1", "+", "1", "+", "o"}], "<=", "m1"}], ",", 
                    RowBox[{"m1", "=", 
                    RowBox[{"m1", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"index1", "+", "1", "+", "o"}], "<=", "l1"}], ",", 
                    RowBox[{"l1", "=", 
                    RowBox[{"l1", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Positionen", " ", "hinzugef\[UDoubleDot]gter", " ", 
                    "Elemente", " ", "in", " ", "xAutos2", " ", "und", " ", 
                    "vAutos2"}], "*)"}], "\n", "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselzu1", ",", 
                    RowBox[{"index1", "+", "1"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Verschiebung", " ", "j", " ", "von", " ", "h", " ", 
                    "durch", " ", "hinzugef\[UDoubleDot]gte", " ", "Autos", 
                    " ", "zu", " ", "xAutos2", " ", "minus", " ", "entfernte",
                     " ", "Autos", " ", "aus", " ", "xAutos2"}], "*)"}], "\n",
                     "  ", 
                    RowBox[{"j", "=", 
                    RowBox[{
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselzu2", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", "h"}], " ", "&"}]}], "]"}], "]"}], "-", 
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselvon2", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", "h"}], " ", "&"}]}], "]"}], "]"}]}]}], 
                    ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"xAutos2", ",", 
                    RowBox[{"h", "+", "j"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"vAutos2", ",", 
                    RowBox[{"h", "+", "j"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"h", "+", "j"}], "<=", "m2"}], ",", 
                    RowBox[{"m2", "=", 
                    RowBox[{"m2", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"h", "+", "j"}], "<=", "l2"}], ",", 
                    RowBox[{"l2", "=", 
                    RowBox[{"l2", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Positionen", " ", "herausgenommener", " ", "Elemente", 
                    " ", "aus", " ", "xAutos2", " ", "und", " ", "vAutos2"}], 
                    "*)"}], "\n", "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselvon2", ",", "h"}], "]"}], ";"}], ")"}], 
                    ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    "Rechte", " ", "Spur", " ", "nicht", " ", "frei"}], ",", 
                    " ", 
                    RowBox[{
                    "Betrachten", " ", "n\[ADoubleDot]chstes", " ", 
                    "Auto"}]}], "*)"}], "\n", "  ", 
                    RowBox[{
                    RowBox[{"h", "=", 
                    RowBox[{"h", "+", "1"}]}], ";"}]}], "\n", "  ", "]"}], 
                    ";"}], ")"}], ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{"Falls", " ", "rechte", " ", "Spur", " ", 
                    RowBox[{"leer", ":", " ", "Spurwechsel"}]}], ",", " ", 
                    RowBox[{"Anpassung", " ", "v"}], ",", " ", 
                    RowBox[{
                    "Indizes", " ", "f\[UDoubleDot]r", " ", "Fluss"}]}], 
                    "*)"}], "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Insert", "[", 
                    RowBox[{"xAutos1", ",", 
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}], ",", "1"}], "]"}], ";", 
                    "\n", "  ", 
                    RowBox[{"Insert", "[", 
                    RowBox[{"vAutos1", ",", 
                    RowBox[{
                    RowBox[{"savevAutos2", "[", 
                    RowBox[{"[", "h", "]"}], "]"}], "-", "1"}], ",", "1"}], 
                    "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"1", "<=", "m1"}], ",", 
                    RowBox[{"m1", "=", 
                    RowBox[{"m1", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{"1", "<=", "l1"}], ",", 
                    RowBox[{"l1", "=", 
                    RowBox[{"l1", "+", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Positionen", " ", "hinzugef\[UDoubleDot]gter", " ", 
                    "Elemente", " ", "in", " ", "xAutos1", " ", "und", " ", 
                    "vAutos1"}], "*)"}], "\n", "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselzu1", ",", "1"}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Verschiebung", " ", "o", " ", "von", " ", "h", " ", 
                    "durch", " ", "hinzugef\[UDoubleDot]gte", " ", "Autos", 
                    " ", "zu", " ", "xAutos2", " ", "minus", " ", "entfernte",
                     " ", "Autos", " ", "aus", " ", "xAutos2"}], "*)"}], "\n",
                     "  ", 
                    RowBox[{"o", "=", 
                    RowBox[{
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselzu2", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", "h"}], " ", "&"}]}], "]"}], "]"}], "-", 
                    RowBox[{"Length", "[", 
                    RowBox[{"Select", "[", 
                    RowBox[{"wechselvon2", ",", 
                    RowBox[{
                    RowBox[{"#", "<=", "h"}], " ", "&"}]}], "]"}], "]"}]}]}], 
                    ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"xAutos2", ",", 
                    RowBox[{"h", "+", "o"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"Remove", "[", 
                    RowBox[{"vAutos2", ",", 
                    RowBox[{"h", "+", "o"}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"h", "+", "o"}], "<=", "m2"}], ",", 
                    RowBox[{"m2", "=", 
                    RowBox[{"m2", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"h", "+", "o"}], "<=", "l2"}], ",", 
                    RowBox[{"l2", "=", 
                    RowBox[{"l2", "-", "1"}]}]}], "]"}], ";", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{
                    "Positionen", " ", "entfernter", " ", "Elemente", " ", 
                    "aus", " ", "xAutos2", " ", "und", " ", "vAutos2"}], 
                    "*)"}], "\n", "  ", 
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"wechselvon2", ",", "h"}], "]"}], ";"}], ")"}]}], 
                    "\n", "  ", "]"}], ";"}], ")"}]}], "\n", "  ", "]"}], 
                    ";"}], ")"}], ",", "\n", "  ", 
                    RowBox[{"(*", 
                    RowBox[{"Nachbarzelle", " ", "nicht", " ", "frei"}], 
                    "*)"}], "\n", "  ", 
                    RowBox[{
                    RowBox[{"h", "=", 
                    RowBox[{"h", "+", "1"}]}], ";"}]}], "\n", "  ", "]"}], 
                  ";"}], ",", 
                 RowBox[{"Length", "[", "savexAutos2", "]"}]}], "]"}], 
               ";"}]}], "\n", "  ", "]"}], ";", "\n", "  ", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{
             "Nach", " ", "Spurwechsel", " ", "freie", " ", "Zellen", " ", 
              "d", " ", "vor", " ", "dem", " ", "Auto", " ", "bis", " ", 
              "zum", " ", "vorderen"}], "*)"}], "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Rechte", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"Clear", "[", "dAutos1", "]"}], ";", "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos1", "]"}], ">", "1"}], ",", "\n",
               "  ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"dAutos1", "=", 
                 RowBox[{"Table", "[", 
                  RowBox[{
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "<", 
                    RowBox[{"Max", "[", "xAutos1", "]"}]}], ",", 
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", 
                    RowBox[{"n", "+", "1"}], "]"}], "]"}], "-", 
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", 
                    RowBox[{"nCells", "-", 
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"Min", "[", "xAutos1", "]"}], "-", "1"}]}], "]"}],
                    ",", 
                   RowBox[{"{", 
                    RowBox[{"n", ",", 
                    RowBox[{
                    RowBox[{"Length", "[", "xAutos1", "]"}], "-", "1"}]}], 
                    "}"}]}], "]"}]}], ";", "\n", "  ", 
                RowBox[{"AppendTo", "[", 
                 RowBox[{"dAutos1", ",", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos1", "]"}], "]"}], "]"}], 
                    "<", 
                    RowBox[{"Max", "[", "xAutos1", "]"}]}], ",", 
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", 
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos1", "]"}], "]"}], "]"}], 
                    "-", "1"}], ",", 
                    RowBox[{"nCells", "-", 
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos1", "]"}], "]"}], "]"}], 
                    "+", 
                    RowBox[{"Min", "[", "xAutos1", "]"}], "-", "1"}]}], 
                   "]"}]}], "]"}], ";"}], ")"}], ",", "\n", "  ", 
              RowBox[{
               RowBox[{"dAutos1", "=", 
                RowBox[{"{", 
                 RowBox[{"nCells", "-", "1"}], "}"}]}], ";"}]}], "\n", "  ", 
             "]"}], ";", " ", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Linke", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"Clear", "[", "dAutos2", "]"}], ";", "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos2", "]"}], ">", "1"}], ",", "\n",
               "  ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"dAutos2", "=", 
                 RowBox[{"Table", "[", 
                  RowBox[{
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "<", 
                    RowBox[{"Max", "[", "xAutos2", "]"}]}], ",", 
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", 
                    RowBox[{"n", "+", "1"}], "]"}], "]"}], "-", 
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", 
                    RowBox[{"nCells", "-", 
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"Min", "[", "xAutos2", "]"}], "-", "1"}]}], "]"}],
                    ",", 
                   RowBox[{"{", 
                    RowBox[{"n", ",", 
                    RowBox[{
                    RowBox[{"Length", "[", "xAutos2", "]"}], "-", "1"}]}], 
                    "}"}]}], "]"}]}], ";", " ", "\n", "  ", 
                RowBox[{"AppendTo", "[", 
                 RowBox[{"dAutos2", ",", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos2", "]"}], "]"}], "]"}], 
                    "<", 
                    RowBox[{"Max", "[", "xAutos2", "]"}]}], ",", 
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", 
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos2", "]"}], "]"}], "]"}], 
                    "-", "1"}], ",", 
                    RowBox[{"nCells", "-", 
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", 
                    RowBox[{"Length", "[", "xAutos2", "]"}], "]"}], "]"}], 
                    "+", 
                    RowBox[{"Min", "[", "xAutos2", "]"}], "-", "1"}]}], 
                   "]"}]}], "]"}], ";"}], ")"}], ",", "\n", "  ", 
              RowBox[{
               RowBox[{"dAutos2", "=", 
                RowBox[{"{", 
                 RowBox[{"nCells", "-", "1"}], "}"}]}], ";"}]}], "\n", "  ", 
             "]"}], ";", "\n", "   ", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"R3", ":", " ", "Abbremsen"}], ",", " ", 
              RowBox[{
              "falls", " ", "v", " ", "gr\[ODoubleDot]\[SZ]er", " ", "als", 
               " ", "Abstand", " ", "d"}]}], "*)"}], "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Rechte", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos1", "]"}], ">", "0"}], ",", "\n",
               "  ", 
              RowBox[{
               RowBox[{"vAutos1", "=", 
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"Min", "[", 
                   RowBox[{
                    RowBox[{"dAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], ",", 
                    RowBox[{"vAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos1", "]"}]}], "}"}]}], 
                 "]"}]}], ";"}]}], "\n", "  ", "]"}], ";", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Linke", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos2", "]"}], ">", "0"}], ",", "\n",
               "  ", 
              RowBox[{
               RowBox[{"vAutos2", "=", 
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"Min", "[", 
                   RowBox[{
                    RowBox[{"dAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], ",", 
                    RowBox[{"vAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos2", "]"}]}], "}"}]}], 
                 "]"}]}], ";"}]}], "\n", "  ", "]"}], ";", "\n", "  ", "\n", 
            "  ", 
            RowBox[{"(*", 
             RowBox[{"R4", ":", " ", 
              RowBox[{
              "Tr\[ODoubleDot]deln", " ", "mit", " ", "Wahrscheinlichkeit", 
               " ", "p"}]}], "*)"}], "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Rechte", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos1", "]"}], ">", "0"}], ",", "\n",
               "  ", 
              RowBox[{
               RowBox[{"vAutos1", "=", 
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"RandomReal", "[", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "1"}], "}"}], "]"}], "<=", "p"}], ",", 
                    RowBox[{
                    RowBox[{"vAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{"Max", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"vAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", "0"}], 
                    "]"}]}], ",", 
                    RowBox[{"vAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos1", "]"}]}], "}"}]}], 
                 "]"}]}], ";"}]}], " ", "\n", "  ", "]"}], ";", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Linke", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos2", "]"}], ">", "0"}], ",", "\n",
               "  ", 
              RowBox[{
               RowBox[{"vAutos2", "=", 
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"RandomReal", "[", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "1"}], "}"}], "]"}], "<=", "p"}], ",", 
                    RowBox[{
                    RowBox[{"vAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{"Max", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"vAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "1"}], ",", "0"}], 
                    "]"}]}], ",", 
                    RowBox[{"vAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos2", "]"}]}], "}"}]}], 
                 "]"}]}], ";"}]}], "\n", "  ", "]"}], ";", "\n", "  ", "\n", 
            "  ", 
            RowBox[{"(*", 
             RowBox[{"R5", ":", " ", 
              RowBox[{"Fahren", " ", "um", " ", "vAutos", " ", "Zellen"}]}], 
             "*)"}], "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Rechte", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos1", "]"}], ">", "0"}], ",", "\n",
               "  ", 
              RowBox[{
               RowBox[{"xAutos1", "=", 
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "<=", "nCells"}], ",", 
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}]}], ",", 
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "nCells"}]}]}], 
                   "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos1", "]"}]}], "}"}]}], 
                 "]"}]}], ";"}], ",", "\n", "  ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"AppendTo", "[", 
                 RowBox[{"density1", ",", "0"}], "]"}], ";", "\n", "  ", 
                RowBox[{"AppendTo", "[", 
                 RowBox[{"savefluss1", ",", "0"}], "]"}], ";"}], ")"}]}], 
             "\n", "  ", "]"}], ";", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Linke", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "xAutos2", "]"}], ">", "0"}], ",", "\n",
               "  ", 
              RowBox[{
               RowBox[{"xAutos2", "=", 
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}], "<=", "nCells"}], ",", 
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}]}]}], ",", 
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "=", 
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "+", 
                    RowBox[{"vAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], "-", "nCells"}]}]}], 
                   "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos2", "]"}]}], "}"}]}], 
                 "]"}]}], ";"}], ",", "\n", "  ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"AppendTo", "[", 
                 RowBox[{"density2", ",", "0"}], "]"}], ";", "\n", "  ", 
                RowBox[{"AppendTo", "[", 
                 RowBox[{"savefluss2", ",", "0"}], "]"}], ";"}], ")"}]}], 
             "\n", "  ", "]"}], ";", "\n", "  ", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{
              "Verkehrsfluss", " ", "durch", " ", "letzte", " ", "Zelle"}], 
              " ", "->", " ", 
              RowBox[{
              "Anzahl", " ", "Autos", " ", "durch", " ", "Zelle", " ", "pro", 
               " ", "Zeitschritt"}]}], "*)"}], "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Rechte", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"m1", "<=", "0"}], ",", 
              RowBox[{"m1", "=", 
               RowBox[{"Length", "[", "xAutos1", "]"}]}], ",", 
              RowBox[{"m1", "=", "m1"}]}], "]"}], ";", " ", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{
              "Fluss", " ", "muss", " ", "auch", " ", "in", " ", 
               "Spurwechsel", " ", "True", " ", "mit", " ", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"Max", "[", "xAutosi", "]"}], "+", 
                   RowBox[{"vAutosi", "[", 
                    RowBox[{"[", 
                    RowBox[{"Flatten", "[", 
                    RowBox[{"Position", "[", 
                    RowBox[{"Max", "[", "xAutosi", "]"}], "]"}], "]"}], "]"}],
                     "]"}]}], ">", "nCells"}], ",", " ", 
                 RowBox[{
                  RowBox[{"addfluss", "=", 
                   RowBox[{"addfluss", "+", "1"}]}], ";", " ", 
                  RowBox[{"m1", "=", 
                   RowBox[{"m1", "-", "1"}]}], ";"}]}], "]"}]}], ",", " ", 
              RowBox[{"gleich", " ", "f\[UDoubleDot]r", " ", "savefluss"}]}], 
             "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"savem1", "<=", "0"}], ",", 
              RowBox[{"savem1", "=", 
               RowBox[{"Length", "[", "savexAutos1", "]"}]}], ",", 
              RowBox[{"savem1", "=", "savem1"}]}], "]"}], ";", "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "savexAutos1", "]"}], ">", "0"}], ",", 
              "\n", "  ", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"m1", ">", "0"}], " ", "&&", " ", 
                  RowBox[{
                   RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "m1", "]"}], "]"}], "<", 
                   RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "savem1", "]"}], "]"}]}]}], ",", " ", 
                 RowBox[{"(*", 
                  RowBox[{
                   RowBox[{"Fehlend", ":", " ", 
                    RowBox[{
                    "Index", " ", "f\[UDoubleDot]r", " ", "savexAutos", " ", 
                    "muss", " ", "separate", " ", "Variable", " ", "sein"}]}],
                    ",", " ", 
                   RowBox[{
                   "separat", " ", "hoch", " ", "gez\[ADoubleDot]hlt", " ", 
                    "wenn", " ", "Fluss"}]}], "*)"}], "\n", "  ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"addfluss", "=", 
                    RowBox[{"addfluss", "+", "1"}]}], ";", "\n", "  ", 
                   RowBox[{"m1", "=", 
                    RowBox[{"m1", "-", "1"}]}], ";", "\n", "  ", 
                   RowBox[{"savem1", "=", 
                    RowBox[{"savem1", "-", "1"}]}], ";"}], ")"}], ",", "\n", 
                 "  ", 
                 RowBox[{
                  RowBox[{"addfluss", "=", "addfluss"}], ";"}]}], "\n", "  ", 
                "]"}], ";"}]}], "\n", "  ", "]"}], ";", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Linke", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"m2", "<=", "0"}], ",", 
              RowBox[{"m2", "=", 
               RowBox[{"Length", "[", "xAutos2", "]"}]}], ",", 
              RowBox[{"m2", "=", "m2"}]}], "]"}], ";", "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"savem2", "<=", "0"}], ",", 
              RowBox[{"savem2", "=", 
               RowBox[{"Length", "[", "savexAutos2", "]"}]}], ",", 
              RowBox[{"savem2", "=", "savem2"}]}], "]"}], ";", "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "savexAutos2", "]"}], ">", "0"}], ",", 
              "\n", "  ", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"m2", ">", "0"}], " ", "&&", " ", 
                  RowBox[{
                   RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "m2", "]"}], "]"}], "<", 
                   RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "savem2", "]"}], "]"}]}]}], ",", "\n", "  ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"addfluss", "=", 
                    RowBox[{"addfluss", "+", "1"}]}], ";", "\n", "  ", 
                   RowBox[{"m2", "=", 
                    RowBox[{"m2", "-", "1"}]}], ";", "\n", "  ", 
                   RowBox[{"savem2", "=", 
                    RowBox[{"savem2", "-", "1"}]}], ";"}], ")"}], ",", "\n", 
                 "  ", 
                 RowBox[{
                  RowBox[{"addfluss", "=", "addfluss"}], ";"}]}], "\n", "  ", 
                "]"}], ";"}]}], "\n", "  ", "]"}], ";", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"Gibt", " ", "mittlere", " ", "v"}], ",", " ", 
              RowBox[{"Varianz", " ", "von", " ", "d"}], ",", " ", 
              RowBox[{
              "Fluss", " ", "und", " ", "Dichte", " ", "der", " ", "Spur", 
               " ", "\[UDoubleDot]ber", " ", "t", " ", "f\[UDoubleDot]r", " ",
                "4", " ", "Gesamtdichten", " ", "aus"}]}], "*)"}], "\n", "  ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"MemberQ", "[", 
               RowBox[{
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"n", "/", "5"}], " ", "nCells"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"n", ",", "4"}], "}"}]}], "]"}], ",", "nCar"}], 
               "]"}], ",", "\n", "  ", 
              RowBox[{"(*", 
               RowBox[{"Varianz", " ", "des", " ", "Abstands"}], "*)"}], "\n",
               "  ", 
              RowBox[{"(*", 
               RowBox[{"Rechte", " ", "Spur"}], "*)"}], "\n", "  ", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Length", "[", "xAutos1", "]"}], ">", "1"}], ",", 
                 "\n", "  ", 
                 RowBox[{
                  RowBox[{"AppendTo", "[", 
                   RowBox[{"dVar1", ",", 
                    RowBox[{"N", "[", 
                    RowBox[{
                    RowBox[{"Variance", "[", "dAutos1", "]"}], ",", "6"}], 
                    "]"}]}], "]"}], ";"}], ",", "\n", "  ", 
                 RowBox[{
                  RowBox[{"AppendTo", "[", 
                   RowBox[{"dVar1", ",", "0"}], "]"}], ";"}]}], "\n", "  ", 
                "]"}], ";", "\n", "  ", 
               RowBox[{"(*", 
                RowBox[{"Linke", " ", "Spur"}], "*)"}], "\n", "  ", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Length", "[", "xAutos2", "]"}], ">", "1"}], ",", 
                 "\n", "  ", 
                 RowBox[{
                  RowBox[{"AppendTo", "[", 
                   RowBox[{"dVar2", ",", 
                    RowBox[{"N", "[", 
                    RowBox[{
                    RowBox[{"Variance", "[", "dAutos2", "]"}], ",", "6"}], 
                    "]"}]}], "]"}], ";"}], ",", "\n", "  ", 
                 RowBox[{
                  RowBox[{"AppendTo", "[", 
                   RowBox[{"dVar2", ",", "0"}], "]"}], ";"}]}], "\n", "  ", 
                "]"}], ";", "\n", "  ", 
               RowBox[{"(*", 
                RowBox[{
                "Fluss", " ", "durch", " ", "letzte", " ", "Zelle", " ", 
                 "der", " ", "jeweiligen", " ", "Spur"}], "*)"}], "\n", "  ", 
               RowBox[{"(*", 
                RowBox[{"Rechte", " ", "Spur"}], "*)"}], "\n", "  ", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"l1", "<=", "0"}], ",", 
                 RowBox[{"l1", "=", 
                  RowBox[{"Length", "[", "xAutos1", "]"}]}], ",", 
                 RowBox[{"l1", "=", "l1"}]}], "]"}], ";", "\n", "  ", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"savel1", "<=", "0"}], ",", 
                 RowBox[{"savel1", "=", 
                  RowBox[{"Length", "[", "savexAutos1", "]"}]}], ",", 
                 RowBox[{"savel1", "=", "savel1"}]}], "]"}], ";", "\n", "  ", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Length", "[", "savexAutos1", "]"}], ">", "0"}], 
                 ",", "\n", "  ", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"l1", ">", "0"}], " ", "&&", " ", 
                    RowBox[{
                    RowBox[{"xAutos1", "[", 
                    RowBox[{"[", "l1", "]"}], "]"}], "<", 
                    RowBox[{"savexAutos1", "[", 
                    RowBox[{"[", "savel1", "]"}], "]"}]}]}], ",", "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"savefluss1", ",", "1"}], "]"}], ";", "\n", "  ", 
                    RowBox[{"l1", "=", 
                    RowBox[{"l1", "-", "1"}]}], ";", "\n", "  ", 
                    RowBox[{"savel1", "=", 
                    RowBox[{"savel1", "-", "1"}]}], ";"}], ")"}], ",", "\n", 
                    "  ", 
                    RowBox[{
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"savefluss1", ",", "0"}], "]"}], ";"}]}], "\n", 
                   "  ", "]"}], ";"}]}], "\n", "  ", "]"}], ";", "\n", "  ", 
               RowBox[{"(*", 
                RowBox[{"Linke", " ", "Spur"}], "*)"}], "\n", "  ", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"l2", "<=", "0"}], ",", 
                 RowBox[{"l2", "=", 
                  RowBox[{"Length", "[", "xAutos2", "]"}]}], ",", 
                 RowBox[{"l2", "=", "l2"}]}], "]"}], ";", "\n", "  ", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"savel2", "<=", "0"}], ",", 
                 RowBox[{"savel2", "=", 
                  RowBox[{"Length", "[", "savexAutos2", "]"}]}], ",", 
                 RowBox[{"savel2", "=", "savel2"}]}], "]"}], ";", "\n", "  ", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Length", "[", "savexAutos2", "]"}], ">", "0"}], 
                 ",", "\n", "  ", 
                 RowBox[{
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"l2", ">", "0"}], " ", "&&", " ", 
                    RowBox[{
                    RowBox[{"xAutos2", "[", 
                    RowBox[{"[", "l2", "]"}], "]"}], "<", 
                    RowBox[{"savexAutos2", "[", 
                    RowBox[{"[", "savel2", "]"}], "]"}]}]}], ",", "\n", "  ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"savefluss2", ",", "1"}], "]"}], ";", "\n", "  ", 
                    RowBox[{"l2", "=", 
                    RowBox[{"l2", "-", "1"}]}], ";", "\n", "  ", 
                    RowBox[{"savel2", "=", 
                    RowBox[{"savel2", "-", "1"}]}], ";"}], ")"}], ",", "\n", 
                    "  ", 
                    RowBox[{
                    RowBox[{"AppendTo", "[", 
                    RowBox[{"savefluss2", ",", "0"}], "]"}], ";"}]}], "\n", 
                   "  ", "]"}], ";"}]}], "\n", "  ", "]"}], ";"}]}], "\n", 
             "  ", "]"}], ";", "\n", "  ", 
            RowBox[{"Clear", "[", "savexAutos1", "]"}], ";", " ", "\n", "  ", 
            RowBox[{"savexAutos1", "=", "xAutos1"}], ";", "\n", "  ", 
            RowBox[{"Clear", "[", "savevAutos1", "]"}], ";", "\n", "  ", 
            RowBox[{"savevAutos1", "=", "vAutos1"}], ";", "\n", "  ", 
            RowBox[{"Clear", "[", "savexAutos2", "]"}], ";", "\n", "  ", 
            RowBox[{"savexAutos2", "=", "xAutos2"}], ";", "\n", "  ", 
            RowBox[{"Clear", "[", "savevAutos2", "]"}], ";", "\n", "  ", 
            RowBox[{"savevAutos2", "=", "vAutos2"}], ";", "\n", "  ", "\n", 
            "  ", 
            RowBox[{"(*", 
             RowBox[{
             "Dichten", " ", "der", " ", "Spur", " ", "\[UDoubleDot]ber", " ",
               "t"}], "*)"}], "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Rechte", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"AppendTo", "[", 
             RowBox[{"density1", ",", 
              RowBox[{
               RowBox[{"Length", "[", "xAutos1", "]"}], "/", "nCells"}]}], 
             "]"}], ";", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{"Linke", " ", "Spur"}], "*)"}], "\n", "  ", 
            RowBox[{"AppendTo", "[", 
             RowBox[{"density2", ",", 
              RowBox[{
               RowBox[{"Length", "[", "xAutos2", "]"}], "/", "nCells"}]}], 
             "]"}], ";", "\n", "  ", "\n", "  ", 
            RowBox[{"(*", 
             RowBox[{
             "Mittlere", " ", "Geschwindigkeit", " ", "aller", " ", "Autos"}],
              "*)"}], "\n", "  ", 
            RowBox[{"AppendTo", "[", 
             RowBox[{"vMittel", ",", 
              RowBox[{"N", "[", 
               RowBox[{
                RowBox[{"Mean", "[", 
                 RowBox[{"Select", "[", 
                  RowBox[{
                   RowBox[{"Join", "[", 
                    RowBox[{"vAutos1", ",", "vAutos2"}], "]"}], ",", 
                   RowBox[{
                    RowBox[{"UnsameQ", "[", 
                    RowBox[{"#", ",", " ", 
                    RowBox[{"{", "}"}]}], "]"}], "&"}]}], "]"}], "]"}], ",", 
                "6"}], "]"}]}], "]"}], ";"}]}], " ", "\n", "  ", "]"}], ";", 
         "\n", "  ", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"MemberQ", "[", 
            RowBox[{
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"n", "/", "5"}], " ", "nCells"}], ",", 
               RowBox[{"{", 
                RowBox[{"n", ",", "4"}], "}"}]}], "]"}], ",", "nCar"}], "]"}],
            ",", "\n", "  ", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"Plotten", " ", "vMittel"}], ",", " ", 
             RowBox[{
             "dVar", " ", "und", " ", "Dichte", " ", "der", " ", "jeweiligen",
               " ", "Spur", " ", "f\[UDoubleDot]r", " ", "4", " ", 
              "Dichten"}]}], "*)"}], "\n", "  ", 
           RowBox[{
            RowBox[{
             RowBox[{"ResourceFunction", "[", "\"\<PlotGrid\>\"", "]"}], "[", 
             RowBox[{
              RowBox[{"{", "\n", "  ", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"ListPlot", "[", 
                  RowBox[{"vMittel", ",", 
                   RowBox[{"ImageSize", "->", "Automatic"}], ",", 
                   RowBox[{"ColorFunction", "->", "\"\<Rainbow\>\""}], ",", 
                   RowBox[{"Frame", "->", "True"}], ",", 
                   RowBox[{"FrameLabel", "->", 
                    RowBox[{"{", 
                    RowBox[{"None", ",", 
                    RowBox[{"\"\<mittlere Geschwindigkeit\>\"", " ", 
                    RowBox[{"OverBar", "[", "v", "]"}]}]}], "}"}]}]}], "]"}], 
                 "}"}], ",", "\n", "  ", 
                RowBox[{"{", 
                 RowBox[{"ListPlot", "[", 
                  RowBox[{"dVar1", ",", 
                   RowBox[{"ImageSize", "->", "Automatic"}], ",", 
                   RowBox[{"ColorFunction", "->", "\"\<Rainbow\>\""}], ",", 
                   RowBox[{"Frame", "->", "True"}], ",", 
                   RowBox[{"FrameLabel", "->", 
                    RowBox[{"{", 
                    RowBox[{
                    "None", ",", 
                    "\"\<Varianz des Abstands d auf rechter Spur\>\""}], 
                    "}"}]}]}], "]"}], "}"}], ",", "\n", "  ", 
                RowBox[{"{", 
                 RowBox[{"ListPlot", "[", 
                  RowBox[{"dVar2", ",", 
                   RowBox[{"ImageSize", "->", "Automatic"}], ",", 
                   RowBox[{"ColorFunction", "->", "\"\<Rainbow\>\""}], ",", 
                   RowBox[{"Frame", "->", "True"}], ",", 
                   RowBox[{"FrameLabel", "->", 
                    RowBox[{"{", 
                    RowBox[{
                    "None", ",", 
                    "\"\<Varianz des Abstands d auf linker Spur\>\""}], 
                    "}"}]}]}], "]"}], "}"}], ",", "\n", "  ", 
                RowBox[{"{", 
                 RowBox[{"ListPlot", "[", 
                  RowBox[{"density1", ",", 
                   RowBox[{"ImageSize", "->", "Automatic"}], ",", 
                   RowBox[{"ColorFunction", "->", "\"\<Rainbow\>\""}], ",", 
                   RowBox[{"Frame", "->", "True"}], ",", 
                   RowBox[{"FrameLabel", "->", 
                    RowBox[{"{", 
                    RowBox[{"None", ",", "\"\<Dichte der rechten Spur\>\""}], 
                    "}"}]}]}], "]"}], "}"}], ",", "\n", "  ", 
                RowBox[{"{", 
                 RowBox[{"ListPlot", "[", 
                  RowBox[{"density2", ",", 
                   RowBox[{"ImageSize", "->", "Automatic"}], ",", 
                   RowBox[{"ColorFunction", "->", "\"\<Rainbow\>\""}], ",", 
                   RowBox[{"Frame", "->", "True"}], ",", 
                   RowBox[{"FrameLabel", "->", 
                    RowBox[{"{", 
                    RowBox[{"None", ",", "\"\<Dichte der linken Spur\>\""}], 
                    "}"}]}]}], "]"}], "}"}]}], "\n", "  ", "}"}], ",", "\n", 
              "  ", 
              RowBox[{"ImageSize", "->", "Large"}], ",", 
              RowBox[{"FrameLabel", "->", 
               RowBox[{"{", 
                RowBox[{"\"\<Zeit t\>\"", ",", "None"}], "}"}]}]}], "\n", 
             "  ", "]"}], ";", "\n", " ", 
            RowBox[{"(*", 
             RowBox[{
             "Zusammenz\[ADoubleDot]hlen", " ", "des", " ", "Flusses", " ", 
              "der", " ", "beiden", " ", "Spuren", " ", "f\[UDoubleDot]r", 
              " ", "4", " ", "Dichten"}], "*)"}], "\n", " ", 
            RowBox[{"savefluss", "=", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"savefluss1", "[", 
                 RowBox[{"[", "n", "]"}], "]"}], "+", 
                RowBox[{"savefluss2", "[", 
                 RowBox[{"[", "n", "]"}], "]"}]}], ",", 
               RowBox[{"{", 
                RowBox[{"n", ",", 
                 RowBox[{"tMax", "+", "1"}]}], "}"}]}], "]"}]}], ";", "\n", 
            " ", 
            RowBox[{"ListPlot", "[", 
             RowBox[{"savefluss", ",", 
              RowBox[{"ImageSize", "->", "Automatic"}], ",", 
              RowBox[{"ColorFunction", "->", "\"\<Rainbow\>\""}], ",", 
              RowBox[{"Frame", "->", "True"}], ",", 
              RowBox[{"FrameLabel", "->", 
               RowBox[{"{", 
                RowBox[{
                "\"\<Zeit t\>\"", ",", "\"\<Fluss pro Zeitschritt\>\""}], 
                "}"}]}]}], "]"}]}]}], "\n", " ", "]"}], ";", "\n", " ", "\n", 
         RowBox[{"(*", 
          RowBox[{
          "Gibt", " ", "Histogramme", " ", "von", " ", "v", " ", "und", " ", 
           "d", " ", "bei", " ", "tMax", " ", "f\[UDoubleDot]r", " ", "4", 
           " ", "Dichten", " ", "aus"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"Keine", " ", "Histogramme", " ", "ausgegeben"}], ",", " ", 
           RowBox[{
           "falls", " ", "kein", " ", "Auto", " ", "auf", " ", "der", " ", 
            "Spur"}]}], "*)"}], "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", "xAutos1", "]"}], ">", "0"}], " ", "&&", 
            " ", 
            RowBox[{"MemberQ", "[", 
             RowBox[{
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"n", "/", "5"}], " ", "nCells"}], ",", 
                RowBox[{"{", 
                 RowBox[{"n", ",", "4"}], "}"}]}], "]"}], ",", "nCar"}], 
             "]"}]}], ",", "\n", 
           RowBox[{"(", 
            RowBox[{"(*", 
             RowBox[{"Histogramme", " ", "v", " ", "und", " ", "d"}], "*)"}], 
            "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{
               RowBox[{
               "Listen", " ", "Autos", " ", "mit", " ", "Geschwindigkeiten", 
                " ", "v"}], "=", "0"}], ",", "1", ",", "2", ",", "3", ",", 
              "4", ",", "5"}], "*)"}], "\n", 
            RowBox[{
             RowBox[{"Clear", "[", "viAutos1", "]"}], ";", "\n", 
             RowBox[{"viAutos1", "=", 
              RowBox[{"Select", "[", 
               RowBox[{
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"Select", "[", 
                   RowBox[{
                    RowBox[{"Table", "[", 
                    RowBox[{
                    RowBox[{"vAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos1", "]"}]}], "}"}]}], "]"}],
                     ",", 
                    RowBox[{
                    RowBox[{"#", "==", "i"}], " ", "&"}]}], "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"i", ",", "0", ",", "5"}], "}"}]}], "]"}], ",", 
                RowBox[{
                 RowBox[{"UnsameQ", "[", 
                  RowBox[{"#", ",", " ", 
                   RowBox[{"{", "}"}]}], "]"}], "&"}]}], "]"}]}], ";", "\n", 
             "\n", 
             RowBox[{"(*", 
              RowBox[{
               RowBox[{
                RowBox[{"Listen", " ", "Abst\[ADoubleDot]nde", " ", "d"}], 
                "=", "0"}], ",", "1", ",", "...", ",", "nCar"}], "*)"}], "\n", 
             RowBox[{"Clear", "[", "diAutos1", "]"}], ";", "\n", 
             RowBox[{"diAutos1", "=", 
              RowBox[{"Select", "[", 
               RowBox[{
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"Select", "[", 
                   RowBox[{
                    RowBox[{"Table", "[", 
                    RowBox[{
                    RowBox[{"dAutos1", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos1", "]"}]}], "}"}]}], "]"}],
                     ",", 
                    RowBox[{
                    RowBox[{"#", "==", "i"}], " ", "&"}]}], "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"i", ",", "0", ",", 
                    RowBox[{"nCells", "-", "nCar", "-", "1"}]}], "}"}]}], 
                 "]"}], ",", 
                RowBox[{
                 RowBox[{"UnsameQ", "[", 
                  RowBox[{"#", ",", " ", 
                   RowBox[{"{", "}"}]}], "]"}], " ", "&"}]}], "]"}]}], ";"}], 
            ")"}], ",", "\n", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"viAutos1", "=", 
              RowBox[{"{", "}"}]}], ";", "\n", 
             RowBox[{"diAutos1", "=", 
              RowBox[{"{", "}"}]}], ";"}], ")"}]}], "\n", "]"}], ";", "\n", 
         "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", "xAutos2", "]"}], ">", "0"}], " ", "&&", 
            " ", 
            RowBox[{"MemberQ", "[", 
             RowBox[{
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"n", "/", "5"}], " ", "nCells"}], ",", 
                RowBox[{"{", 
                 RowBox[{"n", ",", "4"}], "}"}]}], "]"}], ",", "nCar"}], 
             "]"}]}], ",", "\n", 
           RowBox[{"(", 
            RowBox[{"(*", 
             RowBox[{"Histogramme", " ", "v", " ", "und", " ", "d"}], "*)"}], 
            "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{
               RowBox[{
               "Listen", " ", "Autos", " ", "mit", " ", "Geschwindigkeiten", 
                " ", "v"}], "=", "0"}], ",", "1", ",", "2", ",", "3", ",", 
              "4", ",", "5"}], "*)"}], "\n", 
            RowBox[{
             RowBox[{"Clear", "[", "viAutos2", "]"}], ";", "\n", 
             RowBox[{"viAutos2", "=", 
              RowBox[{"Select", "[", 
               RowBox[{
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"Select", "[", 
                   RowBox[{
                    RowBox[{"Table", "[", 
                    RowBox[{
                    RowBox[{"vAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos2", "]"}]}], "}"}]}], "]"}],
                     ",", 
                    RowBox[{
                    RowBox[{"#", "==", "i"}], " ", "&"}]}], "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"i", ",", "0", ",", "5"}], "}"}]}], "]"}], ",", 
                RowBox[{
                 RowBox[{"UnsameQ", "[", 
                  RowBox[{"#", ",", " ", 
                   RowBox[{"{", "}"}]}], "]"}], "&"}]}], "]"}]}], ";", "\n", 
             "\n", 
             RowBox[{"(*", 
              RowBox[{
               RowBox[{
                RowBox[{"Listen", " ", "Abst\[ADoubleDot]nde", " ", "d"}], 
                "=", "0"}], ",", "1", ",", "...", ",", "nCar"}], "*)"}], "\n", 
             RowBox[{"Clear", "[", "diAutos2", "]"}], ";", "\n", 
             RowBox[{"diAutos2", "=", 
              RowBox[{"Select", "[", 
               RowBox[{
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"Select", "[", 
                   RowBox[{
                    RowBox[{"Table", "[", 
                    RowBox[{
                    RowBox[{"dAutos2", "[", 
                    RowBox[{"[", "n", "]"}], "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{"n", ",", 
                    RowBox[{"Length", "[", "xAutos2", "]"}]}], "}"}]}], "]"}],
                     ",", 
                    RowBox[{
                    RowBox[{"#", "==", "i"}], " ", "&"}]}], "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"i", ",", "0", ",", 
                    RowBox[{"nCells", "-", "nCar", "-", "1"}]}], "}"}]}], 
                 "]"}], ",", 
                RowBox[{
                 RowBox[{"UnsameQ", "[", 
                  RowBox[{"#", ",", " ", 
                   RowBox[{"{", "}"}]}], "]"}], " ", "&"}]}], "]"}]}], ";"}], 
            ")"}], ",", "\n", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"viAutos2", "=", 
              RowBox[{"{", "}"}]}], ";", "\n", 
             RowBox[{"diAutos2", "=", 
              RowBox[{"{", "}"}]}], ";"}], ")"}]}], "\n", "]"}], ";", "\n", 
         "\n", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"MemberQ", "[", 
             RowBox[{
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"n", "/", "5"}], " ", "nCells"}], ",", 
                RowBox[{"{", 
                 RowBox[{"n", ",", "4"}], "}"}]}], "]"}], ",", "nCar"}], 
             "]"}], ",", "\n", 
            RowBox[{
             RowBox[{"viAutos", "=", 
              RowBox[{"Select", "[", 
               RowBox[{
                RowBox[{"Join", "[", 
                 RowBox[{"viAutos1", ",", "viAutos2"}], "]"}], ",", 
                RowBox[{
                 RowBox[{"UnsameQ", "[", 
                  RowBox[{"#", ",", " ", 
                   RowBox[{"{", "}"}]}], "]"}], "&"}]}], "]"}]}], ";", "\n", 
             RowBox[{"diAutos", "=", 
              RowBox[{"Select", "[", 
               RowBox[{
                RowBox[{"Join", "[", 
                 RowBox[{"diAutos1", ",", "diAutos2"}], "]"}], ",", 
                RowBox[{
                 RowBox[{"UnsameQ", "[", 
                  RowBox[{"#", ",", " ", 
                   RowBox[{"{", "}"}]}], "]"}], "&"}]}], "]"}]}], ";", "\n", 
             RowBox[{"vhisto", "=", 
              RowBox[{"Histogram", "[", 
               RowBox[{
                RowBox[{"Flatten", "[", "viAutos", "]"}], ",", 
                RowBox[{"{", "1", "}"}], ",", 
                RowBox[{"AxesLabel", "->", 
                 RowBox[{"{", 
                  RowBox[{"v", ",", 
                   RowBox[{"\"\<Anzahl Autos mit\>\"", " ", 
                    RowBox[{"Indexed", "[", 
                    RowBox[{"v", ",", "\"\<i\>\""}], "]"}], " ", 
                    "\"\<f\[UDoubleDot]r die Dichte\>\""}]}], "}"}]}], ",", 
                RowBox[{"ColorFunction", "->", "\"\<Pastel\>\""}], ",", 
                RowBox[{"ImageSize", "->", "Medium"}]}], "]"}]}], ";", "\n", 
             RowBox[{"dhisto", "=", 
              RowBox[{"Histogram", "[", 
               RowBox[{
                RowBox[{"Flatten", "[", "diAutos", "]"}], ",", 
                RowBox[{"{", "1", "}"}], ",", 
                RowBox[{"AxesLabel", "->", 
                 RowBox[{"{", 
                  RowBox[{"d", ",", 
                   RowBox[{"\"\<Anzahl Autos mit\>\"", " ", 
                    RowBox[{"Indexed", "[", 
                    RowBox[{"d", ",", "\"\<i\>\""}], "]"}], " ", 
                    "\"\<f\[UDoubleDot]r die Dichte\>\""}]}], "}"}]}], ",", 
                RowBox[{"ColorFunction", "->", "\"\<Pastel\>\""}], ",", 
                RowBox[{"ImageSize", "->", "Medium"}]}], "]"}]}], ";", "\n", 
             RowBox[{"Print", "[", 
              RowBox[{"Show", "[", "vhisto", "]"}], "]"}], ";", "\n", 
             RowBox[{"Print", "[", 
              RowBox[{"Show", "[", "dhisto", "]"}], "]"}], ";"}]}], "\n", 
           "]"}], "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{
           "Dichte", " ", "\[UDoubleDot]ber", " ", "die", " ", "gesamte", " ",
             "Stra\[SZ]e"}], "*)"}], "\n", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"density", ",", 
            RowBox[{"nCar", "/", "nCells"}]}], "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"Verkehrsfluss", " ", "f\[UDoubleDot]r", " ", "Dichte", " ", 
           RowBox[{"nCar", "/", "nCells"}]}], "*)"}], "\n", 
         RowBox[{"AppendTo", "[", 
          RowBox[{"fluss", ",", "addfluss"}], "]"}], ";", "\n", 
         RowBox[{"Clear", "[", "savefluss1", "]"}], ";", "\n", 
         RowBox[{"Clear", "[", "savefluss2", "]"}], ";", "\n", 
         RowBox[{"Clear", "[", "density1", "]"}], ";", "\n", 
         RowBox[{"Clear", "[", "density2", "]"}], ";"}]}], " ", 
       RowBox[{"(*", 
        RowBox[{
        "lieber", " ", "noch", " ", "mal", " ", "einelementige", " ", "Liste",
          " ", "draus", " ", 
         RowBox[{"machen", "?", " ", "Sonst"}], " ", "Probleme", " ", "mit", 
         " ", 
         RowBox[{"AppendTo", "?"}]}], "*)"}], "\n", "]"}]}]}], "\n", 
    RowBox[{"(*", 
     RowBox[{"Fehlend", ":", " ", 
      RowBox[{
      "Dichte", " ", "getrennt", " ", "f\[UDoubleDot]r", " ", "Spuren", " ", 
       "\[UDoubleDot]ber", " ", "t"}]}], "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{"Fundamentalplot", " ", "mit", " ", "addfluss"}], "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{"ListPlot", "[", 
      RowBox[{
       RowBox[{"Thread", "[", 
        RowBox[{"{", 
         RowBox[{"density", ",", 
          RowBox[{"fluss", "/", "tMax"}]}], "}"}], "]"}], ",", 
       RowBox[{"ImageSize", "->", "Medium"}], ",", 
       RowBox[{"Frame", "->", "True"}], ",", 
       RowBox[{"FrameLabel", "->", 
        RowBox[{"{", 
         RowBox[{
         "\"\<Dichte \[Rho]\>\"", ",", 
          "\"\<Zeitliches Mittel des Flusses \[UDoubleDot]ber letzte \
Zelle\>\""}], "}"}]}], ",", "\n", 
       RowBox[{"PlotStyle", "->", 
        RowBox[{"RandomChoice", "[", 
         RowBox[{"{", 
          RowBox[{
          "Red", ",", "Orange", ",", "Yellow", ",", "LightGreen", ",", 
           "LightBlue", ",", "Blue", ",", "Purple", ",", "Pink"}], "}"}], 
         "]"}]}]}], "]"}], " ", 
     RowBox[{"(*", 
      RowBox[{
      "Punkte", " ", "hell", " ", "f\[UDoubleDot]r", " ", "dunklen", " ", 
       "Hintergrund", " ", "in", " ", "sp\[ADoubleDot]terem", " ", 
       "Notebook"}], "*)"}], "*)"}], "\n", "]"}]}]}]], "Code",
 CellFrame->{{0, 0}, {0, 0}},
 Background->None,ExpressionUUID->"fc798286-c7dc-44be-8714-ec2da0d50df4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"twolanesNaSch", "[", 
   RowBox[{"20", ",", "10", ",", "5", ",", "0.15"}], "]"}], "\n"}]], "Code",Ex\
pressionUUID->"432a6573-1d6b-45ea-bf7a-38a4489280ad"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"a", "=", "1"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"a", "=", "2"}], ";"}], "\n", "a"}], "Code",ExpressionUUID->\
"41dc66e4-7301-4f8d-94bd-dfee54498448"]
}, Open  ]]
},
WindowSize->{1152., 615.6},
WindowMargins->{{
  Automatic, -5.399999999999864}, {-5.399999999999977, Automatic}},
TaggingRules-><|"CodeFormatter" -> <|"ToolbarState" -> False|>|>,
Magnification:>0.9 Inherited,
FrontEndVersion->"13.2 for Microsoft Windows (64-bit) (January 30, 2023)",
StyleDefinitions->"ReverseColor.nb",
ExpressionUUID->"4903e043-4d4f-492a-8ca0-57a9fd60ae10"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 268, 5, 86, "Title",ExpressionUUID->"4c5b8c48-ea21-458d-8a47-cd3439a3b576"],
Cell[851, 29, 239, 4, 46, "Subtitle",ExpressionUUID->"82eccbbc-421a-4762-bb86-ee2ab25c3b60"],
Cell[1093, 35, 277, 8, 56, "Text",ExpressionUUID->"398bd9fe-bf3f-4c9f-a231-c789daaac767"],
Cell[1373, 45, 959, 15, 147, "Text",ExpressionUUID->"96b5a938-abee-4e7c-b495-bbbd5c64a2fa"],
Cell[2335, 62, 12284, 299, 782, "Code",ExpressionUUID->"1c1b3d41-374b-47dd-b054-5979bf093786"],
Cell[14622, 363, 171, 3, 45, "Code",ExpressionUUID->"cd125677-6eba-4fd1-841d-0d101ef3364e"],
Cell[14796, 368, 222, 3, 33, "Text",ExpressionUUID->"f57a7ba6-94de-44e7-a11f-1afe39b1e82d"],
Cell[15021, 373, 11186, 270, 781, "Code",ExpressionUUID->"2eb48919-77a2-4410-810c-6792a06d2ae9"],
Cell[26210, 645, 427, 12, 62, "Code",ExpressionUUID->"6e1b616f-a3fe-42e4-93a3-f65a9e354de4"],
Cell[26640, 659, 11691, 292, 731, "Code",ExpressionUUID->"a9a05c6e-aaea-44cf-93da-e5833b7444e7"],
Cell[38334, 953, 176, 3, 45, "Code",ExpressionUUID->"172d1781-1ca0-4671-b4a8-d7b862fc0f80"],
Cell[38513, 958, 15454, 375, 1202, "Code",ExpressionUUID->"f3ea62d7-2a4b-4215-8f74-7702256029c8"],
Cell[53970, 1335, 180, 3, 45, "Code",ExpressionUUID->"def195a3-e01c-49b0-b7ca-c0426981a609"],
Cell[54153, 1340, 13999, 328, 1089, "Code",ExpressionUUID->"ce296155-e0c4-492a-ba18-3be5abee4e59"],
Cell[68155, 1670, 1047, 22, 172, "Code",ExpressionUUID->"9af28515-9f15-4872-97f8-ada328d44e70"],
Cell[69205, 1694, 16060, 373, 1090, "Code",ExpressionUUID->"931ee5d5-1d2f-4c4c-94f3-e782156129dd"],
Cell[85268, 2069, 177, 3, 45, "Code",ExpressionUUID->"9b7f6e23-5b2e-4532-8666-52c009a3b114"],
Cell[85448, 2074, 116684, 2541, 7231, "Code",ExpressionUUID->"fc798286-c7dc-44be-8714-ec2da0d50df4"],
Cell[202135, 4617, 190, 4, 61, "Code",ExpressionUUID->"432a6573-1d6b-45ea-bf7a-38a4489280ad"],
Cell[202328, 4623, 187, 5, 77, "Code",ExpressionUUID->"41dc66e4-7301-4f8d-94bd-dfee54498448"]
}, Open  ]]
}
]
*)

